!function(){function e(t,n,r){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(t,n,r||t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){c=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"ZhY/":function(r,i,a){"use strict";a.r(i),a.d(i,"LibraryModule",function(){return Dn});var s,l,g,h,p,m,v,b,y,w,_,O,L,x=a("ofXK"),E=a("rEd/"),S=a("H90k"),j=a("tHcr"),k=a("a9nm"),C=a("O0t9"),D=a("fXoL"),I=a("SrzP"),P=a("mrSG"),T=a("ySWE"),R=((s=function e(){f(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275mod=D.Ib({type:s}),s.\u0275inj=D.Hb({}),s),X=a("pFFK"),Y=a("0wL/"),A=a("tCSI"),M=a("/1kH"),K=a("bj0Z"),F=a("cG1J"),B=a("eQ77"),G=a("9Lnp"),H=((l=function(){function e(t,n,r){f(this,e),this.__paginator=t,this.__redirectToLoggedInHome=n,this.__loadedLibrary=r}return d(e,[{key:"go",value:function(e,t){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.__libraryNotLoaded(e)){n.next=7;break}if(!this.__libraryDoesntExist(e)){n.next=3;break}return n.abrupt("return",this.__redirectToLoggedInHome.go());case 3:return n.next=5,K.a.go(t,this.__paginator,{reload:!0});case 5:n.next=9;break;case 7:return n.next=9,K.a.go(t,this.__paginator);case 9:case"end":return n.stop()}},n,this)}))}},{key:"__libraryNotLoaded",value:function(e){return Object(A.b)(this.__loadedLibrary.get())||e!==this.__loadedLibrary.get().name}},{key:"__libraryDoesntExist",value:function(e){return Object(M.a)(Y.LibraryNamesData.data.includes(e))}}]),e}()).\u0275fac=function(e){return new(e||l)(D.Tb(F.a),D.Tb(B.a),D.Tb(G.a))},l.\u0275prov=D.Gb({token:l,factory:l.\u0275fac,providedIn:R}),l),N=a("jhN1"),z=((g=function(){function e(t,n){f(this,e),this.__loadLibrary=t,this.__title=n}return d(e,[{key:"go",value:function(e){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.name=e[X.a.libName],this.__title.setTitle(T.a.go(["Library",k.a.name])),n=Number(e[X.a.pageNumber]),t.next=4,this.__loadLibrary.go(k.a.name,n);case 4:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||g)(D.Tb(H),D.Tb(N.b))},g.\u0275prov=D.Gb({token:g,factory:g.\u0275fac,providedIn:R}),g),$=a("+3qu"),W=a("rvGS"),q=a("zyDs"),U=a("eTSP"),V=((p=function e(){f(this,e)}).\u0275fac=function(e){return new(e||p)},p.\u0275mod=D.Ib({type:p}),p.\u0275inj=D.Hb({}),p),Z=((h=function(e){o(n,e);var t=c(n);function n(e){return f(this,n),t.call(this,e)}return n}(U.a)).\u0275fac=function(e){return new(e||h)(D.Tb(F.a))},h.\u0275prov=D.Gb({token:h,factory:h.\u0275fac,providedIn:V}),h),J=a("CyIf"),Q=a("L8SX"),ee=a("hFy4"),te=((m=function e(){f(this,e)}).\u0275fac=function(e){return new(e||m)},m.\u0275mod=D.Ib({type:m}),m.\u0275inj=D.Hb({}),m),ne=a("cFse"),re=a("IKcc"),ie=a("rZSF"),oe=a("y46q"),ae=a("XNiG"),ce=((v=function(){function e(){f(this,e),this.__subject=new ae.a}return d(e,[{key:"setList",value:function(e){this.__list=e}},{key:"rearrangedList$",get:function(){return this.__subject}},{key:"moveItem",value:function(e,t){e!==t&&(function(e,t,r){var i=r.length;Object(re.a)(t,i),t<0&&(t=i+t);var o=Object(ie.a)(e,r);t===i-1?Object(ne.a)(o,r):function(e,t,r){if(Object(oe.a)(t),Object(re.a)(e,r.length),e<0){if(!(e<-1))return function(e,t){t.push.apply(t,n(e))}(t,r);++e}r.splice.apply(r,[e,0].concat(n(t)))}(t,[o],r)}(e,t,this.__list),this.__subject.next(this.__list))}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275prov=D.Gb({token:v,factory:v.\u0275fac,providedIn:te}),v),se=a("0bMq"),ue=a("nYfu"),le=a("fOwj"),de=((b=function(){function e(t,n){f(this,e),this.__loadedLibrary=t,this.__libPaginator=n}return d(e,[{key:"go",value:function(e){var t=this.__loadedLibrary.get();return this.__get_image_ids_inNewOrder(e,t._image_ids)}},{key:"__get_image_ids_inNewOrder",value:function(e,t){var n=this.__libPaginator.getCurrentPageNumber(),r=e.map(function(e){return e._id});return this.__replacePage(n,r,t),t}},{key:"__replacePage",value:function(e,t,r){var i;!function(e,t,r,i){Object(le.a)(e,t,i),Object(ue.a)(e,t,i.length),i.splice.apply(i,[e,t].concat(n(r)))}(this.__libPaginator.getItemsPerPage()*(e-1),(i=t).length,i,r)}}]),e}()).\u0275fac=function(e){return new(e||b)(D.Tb(G.a),D.Tb(F.a))},b.\u0275prov=D.Gb({token:b,factory:b.\u0275fac,providedIn:te}),b),fe=a("rDaN"),ge=a("3Rtb"),he=a("fQ1K"),pe=a("FPQd"),me=((y=function(){function e(t,n){f(this,e),this.__loadedImagesState=t,this.__libPaginator=n}return d(e,[{key:"go",value:function(e){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.__loadedImagesState.getImages(),r=this.__getImageIDsOfCurrentLoad(e,n.length),this.__reorderLoadedImagesToMatchOrderOfImageIDs(n,r),t.next=5,this.__syncPaginatorWithCurrentPageImages();case 5:case"end":return t.stop()}},t,this)}))}},{key:"__getImageIDsOfCurrentLoad",value:function(e,t){var n=this.__libPaginator.getItemsPerLoad()/this.__libPaginator.getItemsPerPage(),r=Object(he.b)(this.__libPaginator.getCurrentPageNumber()/n);return Object(ge.a)(r-1,t,e)}},{key:"__reorderLoadedImagesToMatchOrderOfImageIDs",value:function(e,t){var n=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]._id]=e[n];return t}(e);this.__loadedImagesState.set({images:Object(fe.a)(t.length,function(e){return n[t[e]]}),from:"library"})}},{key:"__syncPaginatorWithCurrentPageImages",value:function(){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.__libPaginator.getCurrentPage(),Object(Q.a)(t,Y.CurrentPageImagesData.data);case 2:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||y)(D.Tb(pe.a),D.Tb(F.a))},y.\u0275prov=D.Gb({token:y,factory:y.\u0275fac,providedIn:te}),y),ve=a("zv6k"),be=((w=function(){function e(t,n,r){f(this,e),this.__getLibraryImageIDsReordered=t,this.__reorderLoadedImages=n,this.__updateLibrary=r}return d(e,[{key:"go",value:function(e){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__getLibraryImageIDsReordered.go(e);case 2:return n=t.sent,t.next=5,this.__reorderLoadedImages.go(n);case 5:return t.next=7,this.__updateLibrary.go(k.a.name,{_image_ids:n});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||w)(D.Tb(de),D.Tb(me),D.Tb(ve.a))},w.\u0275prov=D.Gb({token:w,factory:w.\u0275fac,providedIn:te}),w),ye=a("bW8z"),we=a("Omw0"),_e=a("rHRF"),Oe=a("5nyK"),Le=a("CIKf"),xe=((L=function(){function e(t,n){f(this,e),this.__updateLibrariesInBrowser=t,this.__ifUpdatedLibraryIsBeingViewedThenReloadCurrentPageData=n}return d(e,[{key:"go",value:function(e){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:_e.a.go(e),this.__updateLibrariesInBrowser.go(e);case 1:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||L)(D.Tb(Oe.a),D.Tb(Le.a))},L.\u0275prov=D.Gb({token:L,factory:L.\u0275fac,providedIn:"root"}),L),Ee=((O=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(ye.a)).\u0275fac=function(e){return new(e||O)(D.Tb(we.a),D.Tb(xe))},O.\u0275prov=D.Gb({token:O,factory:O.\u0275fac,providedIn:te}),O),Se=((_=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(se.a)).\u0275fac=function(e){return new(e||_)(D.Tb(be),D.Tb(Ee))},_.\u0275prov=D.Gb({token:_,factory:_.\u0275fac,providedIn:te}),_),je={data:-1},ke=a("HDdC"),Ce=a("jtHE"),De=a("VRyK"),Ie=a("itXk"),Pe=a("DH7j"),Te=a("n6bG"),Re=a("lJxs");function Xe(e,t,r,i){return Object(Te.a)(r)&&(i=r,r=void 0),i?Xe(e,t,r).pipe(Object(Re.a)(function(e){return Object(Pe.a)(e)?i.apply(void 0,n(e)):i(e)})):new ke.a(function(n){Ye(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,r)})}function Ye(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var c=e;e.on(t,n),o=function(){return c.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var s=e;e.addListener(t,n),o=function(){return s.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,l=e.length;u<l;u++)Ye(e[u],t,n,r,i)}r.add(o)}function Ae(e,t){var n,r;return r=t,"function"==typeof(e=void 0===(n=e)?void 0===r?n:r:n)?function(){for(var t=arguments,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=t[i];return!!e.apply(this,r)}:e?function(){return!0}:function(){return!1}}var Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Ke=function(e){return null!=e&&"object"===(void 0===e?"undefined":Me(e))&&1===e.nodeType&&"object"===Me(e.style)&&"object"===Me(e.ownerDocument)};function Fe(e,t){if(t=ze(t,!0),!Ke(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function Be(e,t){return-1!==Fe(e,t)}function Ge(e,t){for(var n=0;n<t.length;n++)Be(e,t[n])||e.push(t[n]);return t}function He(e){for(var t=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=t[r+1];return Ge(e,n=n.map(ze))}function Ne(e){for(var t=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=t[r+1];return n.map(ze).reduce(function(t,n){var r=Fe(e,n);return-1!==r?t.concat(e.splice(r,1)):t},[])}function ze(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!Ke(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function $e(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}var We,qe=void 0;"function"!=typeof Object.create?(We=function(){},qe=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");We.prototype=e||{};var n=new We;return We.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):qe=Object.create;var Ue=qe,Ve=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Ze(e,t){t=t||{};for(var n=Ue(e),r=0;r<Ve.length;r++)void 0!==t[Ve[r]]&&(n[Ve[r]]=t[Ve[r]]);return n}function Je(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}var Qe=["webkit","moz","ms","o"],et=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=Qe.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[Qe[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),r=Math.max(0,16-t-n),i=window.setTimeout(function(){return e(t+r)},r);return n=t+r,i}}return window.requestAnimationFrame.bind(window)}(),tt=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=Qe.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[Qe[e]+"CancelAnimationFrame"]||window[Qe[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function nt(e,t){void 0===t&&(t={});var n=this,r=4,i=!1;if("object"!=typeof t.margin){var o=t.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var a,c={},s=function(e,t){var n=Ae((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var r=t.target&&t.target.ownerDocument||document,i=r.documentElement,o=r.body;e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(c),u=(a={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null},{destroy:function(){a=null},dispatch:MouseEvent?function(e,t,n){var r=new MouseEvent("mousemove",Ze(a,t));return Je(r,n),e.dispatchEvent(r)}:"function"==typeof document.createEvent?function(e,t,n){var r=Ze(a,t),i=document.createEvent("MouseEvents");return i.initMouseEvent("mousemove",!0,!0,window,0,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),Je(i,n),e.dispatchEvent(i)}:"function"==typeof document.createEventObject?function(e,t,n){var r=document.createEventObject(),i=Ze(a,t);for(var o in i)r[o]=i[o];return Je(r,n),e.dispatchEvent(r)}:void 0}),l=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(t.maxSpeed)||(r=t.maxSpeed),"object"!=typeof r&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=Ae(t.autoScroll),this.syncMove=Ae(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",v,!1),window.removeEventListener("touchstart",v,!1),window.removeEventListener("mouseup",b,!1),window.removeEventListener("touchend",b,!1),window.removeEventListener("pointerup",b,!1),window.removeEventListener("mouseleave",w,!1),window.removeEventListener("mousemove",O,!1),window.removeEventListener("touchmove",O,!1),window.removeEventListener("scroll",m,!0),e=[],t&&y()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return He.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Ne.apply(void 0,[e].concat(t))};var d,f,g=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),f=e,e=[],f.forEach(function(e){e===window?g=window:n.add(e)}),Object.defineProperties(this,{down:{get:function(){return l}},maxSpeed:{get:function(){return r}},point:{get:function(){return c}},scrolling:{get:function(){return i}}});var h,p=null;function m(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){i=!0;break}i&&et(function(){return i=!1})}function v(){l=!0}function b(){l=!1,y()}function y(){tt(h),tt(d)}function w(){l=!1}function _(){for(var t=null,n=0;n<e.length;n++)rt(c,e[n])&&(t=e[n]);return t}function O(t){if(n.autoScroll()&&!t.dispatched){var r=t.target,i=document.body;p&&!rt(c,p)&&(n.scrollWhenOutside||(p=null)),r&&r.parentNode===i?r=_():(r=function(t){if(!t)return null;if(p===t)return t;if(Be(e,t))return t;for(;t=t.parentNode;)if(Be(e,t))return t;return null}(r))||(r=_()),r&&r!==p&&(p=r),g&&(tt(d),d=et(L)),p&&(tt(h),h=et(x))}}function L(){E(g),tt(d),d=et(L)}function x(){p&&(E(p),tt(h),h=et(x))}function E(e){var t,r,i=$e(e);t=c.x<i.left+n.margin.left?Math.floor(Math.max(-1,(c.x-i.left)/n.margin.left-1)*n.maxSpeed.left):c.x>i.right-n.margin.right?Math.ceil(Math.min(1,(c.x-i.right)/n.margin.right+1)*n.maxSpeed.right):0,r=c.y<i.top+n.margin.top?Math.floor(Math.max(-1,(c.y-i.top)/n.margin.top-1)*n.maxSpeed.top):c.y>i.bottom-n.margin.bottom?Math.ceil(Math.min(1,(c.y-i.bottom)/n.margin.bottom+1)*n.maxSpeed.bottom):0,n.syncMove()&&u.dispatch(e,{pageX:c.pageX+t,pageY:c.pageY+r,clientX:c.x+t,clientY:c.y+r}),setTimeout(function(){r&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,r),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)})}window.addEventListener("mousedown",v,!1),window.addEventListener("touchstart",v,!1),window.addEventListener("mouseup",b,!1),window.addEventListener("touchend",b,!1),window.addEventListener("pointerup",b,!1),window.addEventListener("mousemove",O,!1),window.addEventListener("touchmove",O,!1),window.addEventListener("mouseleave",w,!1),window.addEventListener("scroll",m,!0)}function rt(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:function(e,t){var n=$e(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}(e,t)}var it=a("pLZG"),ot=a("5+tZ"),at=a("JX91"),ct=a("w1tV"),st=a("1G5W"),ut=a("IzEk"),lt=a("BFxc"),dt=a("7o/Q"),ft=function(){function e(t,n){f(this,e),this.predicate=t,this.source=n}return d(e,[{key:"call",value:function(e,t){return t.subscribe(new gt(e,this.predicate,this.source))}}]),e}(),gt=function(e){o(n,e);var t=c(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this,e)).predicate=r,o.source=i,o.count=0,o.index=0,o}return d(n,[{key:"_next",value:function(e){this.predicate?this._tryPredicate(e):this.count++}},{key:"_tryPredicate",value:function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}},{key:"_complete",value:function(){this.destination.next(this.count),this.destination.complete()}}]),n}(dt.a);function ht(){return function(e){return e.lift(new vt)}}var pt,mt,vt=function(){function e(){f(this,e)}return d(e,[{key:"call",value:function(e,t){return t.subscribe(new bt(e))}}]),e}(),bt=function(e){o(n,e);var t=c(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).hasPrev=!1,r}return d(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(dt.a),yt=function(){function e(t,n){f(this,e),this.compare=t,this.keySelector=n}return d(e,[{key:"call",value:function(e,t){return t.subscribe(new wt(e,this.compare,this.keySelector))}}]),e}(),wt=function(e){o(n,e);var t=c(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return d(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(dt.a),_t=((mt=function e(){f(this,e),this.currentDrag=new ae.a}).\u0275fac=function(e){return new(e||mt)},mt.\u0275prov=D.Gb({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt.ngInjectableDef=Object(D.S)({factory:function(){return new mt},token:mt,providedIn:"root"}),mt),Ot=((pt=function e(t){f(this,e),this.elementRef=t,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}).\u0275fac=function(e){return new(e||pt)(D.Kb(D.l))},pt.\u0275dir=D.Fb({type:pt,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),pt);function Lt(e,t,n){n&&n.split(" ").forEach(function(n){return e.addClass(t.nativeElement,n)})}function xt(e,t,n){n&&n.split(" ").forEach(function(n){return e.removeClass(t.nativeElement,n)})}var Et,St=((Et=function(){function e(t,n,r,i,o,a,c){f(this,e),this.element=t,this.renderer=n,this.draggableHelper=r,this.zone=i,this.vcr=o,this.scrollContainer=a,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new D.n,this.dragStart=new D.n,this.ghostElementCreated=new D.n,this.dragging=new D.n,this.dragEnd=new D.n,this.pointerDown$=new ae.a,this.pointerMove$=new ae.a,this.pointerUp$=new ae.a,this.eventListenerSubscriptions={},this.destroy$=new ae.a,this.timeLongPress={timerBegin:0,timerEnd:0}}return d(e,[{key:"ngOnInit",value:function(){var e=this;this.checkEventListeners();var n=this.pointerDown$.pipe(Object(it.a)(function(){return e.canDrag()}),Object(ot.a)(function(n){n.event.stopPropagation&&!e.scrollContainer&&n.event.stopPropagation();var r=e.renderer.createElement("style");e.renderer.setAttribute(r,"type","text/css"),e.renderer.appendChild(r,e.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(function(){e.document.head.appendChild(r)});var i=e.getScrollPosition(),o=new ke.a(function(t){return e.renderer.listen(e.scrollContainer?e.scrollContainer.elementRef.nativeElement:"window","scroll",function(e){return t.next(e)})}).pipe(Object(at.a)(i),Object(Re.a)(function(){return e.getScrollPosition()})),a=new ae.a,c=new Ce.a;e.zone.run(function(){e.dragPointerDown.next({x:0,y:0})});var s=Object(De.a)(e.pointerUp$,e.pointerDown$,c,e.destroy$).pipe(Object(ct.a)()),u=Object(Ie.a)([e.pointerMove$,o]).pipe(Object(Re.a)(function(e){var r=t(e,2),i=r[0],o=r[1];return{currentDrag$:a,transformX:i.clientX-n.clientX,transformY:i.clientY-n.clientY,clientX:i.clientX,clientY:i.clientY,scrollLeft:o.left,scrollTop:o.top,target:i.event.target}}),Object(Re.a)(function(t){return e.dragSnapGrid.x&&(t.transformX=Math.round(t.transformX/e.dragSnapGrid.x)*e.dragSnapGrid.x),e.dragSnapGrid.y&&(t.transformY=Math.round(t.transformY/e.dragSnapGrid.y)*e.dragSnapGrid.y),t}),Object(Re.a)(function(t){return e.dragAxis.x||(t.transformX=0),e.dragAxis.y||(t.transformY=0),t}),Object(Re.a)(function(e){return Object.assign({},e,{x:e.transformX+(e.scrollLeft-i.left),y:e.transformY+(e.scrollTop-i.top)})}),Object(it.a)(function(t){var n=t.x,r=t.y,i=t.transformX,o=t.transformY;return!e.validateDrag||e.validateDrag({x:n,y:r,transform:{x:i,y:o}})}),Object(st.a)(s),Object(ct.a)()),l=u.pipe(Object(ut.a)(1),Object(ct.a)()),d=u.pipe(Object(lt.a)(1),Object(ct.a)());return l.subscribe(function(t){var n=t.clientX,r=t.clientY,i=t.x,o=t.y;if(e.zone.run(function(){e.dragStart.next({cancelDrag$:c})}),e.scroller=new nt([e.scrollContainer?e.scrollContainer.elementRef.nativeElement:e.document.defaultView],Object.assign({},e.autoScroll,{autoScroll:function(){return!0}})),Lt(e.renderer,e.element,e.dragActiveClass),e.ghostDragEnabled){var s=e.element.nativeElement.getBoundingClientRect(),u=e.element.nativeElement.cloneNode(!0);if(e.showOriginalElementWhileDragging||e.renderer.setStyle(e.element.nativeElement,"visibility","hidden"),e.ghostElementAppendTo?e.ghostElementAppendTo.appendChild(u):e.element.nativeElement.parentNode.insertBefore(u,e.element.nativeElement.nextSibling),e.ghostElement=u,e.document.body.style.cursor=e.dragCursor,e.setElementStyles(u,{position:"fixed",top:"".concat(s.top,"px"),left:"".concat(s.left,"px"),width:"".concat(s.width,"px"),height:"".concat(s.height,"px"),cursor:e.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),e.ghostElementTemplate){var l=e.vcr.createEmbeddedView(e.ghostElementTemplate);u.innerHTML="",l.rootNodes.filter(function(e){return e instanceof Node}).forEach(function(e){u.appendChild(e)}),d.subscribe(function(){e.vcr.remove(e.vcr.indexOf(l))})}e.zone.run(function(){e.ghostElementCreated.emit({clientX:n-i,clientY:r-o,element:u})}),d.subscribe(function(){u.parentElement.removeChild(u),e.ghostElement=null,e.renderer.setStyle(e.element.nativeElement,"visibility","")})}e.draggableHelper.currentDrag.next(a)}),d.pipe(Object(ot.a)(function(e){var t=c.pipe(function(e){return e.lift(new ft(void 0,e))},Object(ut.a)(1),Object(Re.a)(function(t){return Object.assign({},e,{dragCancelled:t>0})}));return c.complete(),t})).subscribe(function(t){var n=t.x,r=t.y,i=t.dragCancelled;e.scroller.destroy(),e.zone.run(function(){e.dragEnd.next({x:n,y:r,dragCancelled:i})}),xt(e.renderer,e.element,e.dragActiveClass),a.complete()}),Object(De.a)(s,d).pipe(Object(ut.a)(1)).subscribe(function(){requestAnimationFrame(function(){e.document.head.removeChild(r)})}),u}),Object(ct.a)());Object(De.a)(n.pipe(Object(ut.a)(1),Object(Re.a)(function(e){return[,e]})),n.pipe(ht())).pipe(Object(it.a)(function(e){var n=t(e,2),r=n[0],i=n[1];return!r||r.x!==i.x||r.y!==i.y}),Object(Re.a)(function(e){var n=t(e,2);return n[0],n[1]})).subscribe(function(t){var n=t.x,r=t.y,i=t.currentDrag$,o=t.clientX,a=t.clientY,c=t.transformX,s=t.transformY,u=t.target;e.zone.run(function(){e.dragging.next({x:n,y:r})}),requestAnimationFrame(function(){if(e.ghostElement){var t="translate3d(".concat(c,"px, ").concat(s,"px, 0px)");e.setElementStyles(e.ghostElement,{transform:t,"-webkit-transform":t,"-ms-transform":t,"-moz-transform":t,"-o-transform":t})}}),i.next({clientX:o,clientY:a,dropData:e.dropData,target:u})})}},{key:"ngOnChanges",value:function(e){e.dragAxis&&this.checkEventListeners()}},{key:"ngOnDestroy",value:function(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}},{key:"checkEventListeners",value:function(){var e=this,t=this.canDrag(),n=Object.keys(this.eventListenerSubscriptions).length>0;t&&!n?this.zone.runOutsideAngular(function(){e.eventListenerSubscriptions.mousedown=e.renderer.listen(e.element.nativeElement,"mousedown",function(t){e.onMouseDown(t)}),e.eventListenerSubscriptions.mouseup=e.renderer.listen("document","mouseup",function(t){e.onMouseUp(t)}),e.eventListenerSubscriptions.touchstart=e.renderer.listen(e.element.nativeElement,"touchstart",function(t){e.onTouchStart(t)}),e.eventListenerSubscriptions.touchend=e.renderer.listen("document","touchend",function(t){e.onTouchEnd(t)}),e.eventListenerSubscriptions.touchcancel=e.renderer.listen("document","touchcancel",function(t){e.onTouchEnd(t)}),e.eventListenerSubscriptions.mouseenter=e.renderer.listen(e.element.nativeElement,"mouseenter",function(){e.onMouseEnter()}),e.eventListenerSubscriptions.mouseleave=e.renderer.listen(e.element.nativeElement,"mouseleave",function(){e.onMouseLeave()})}):!t&&n&&this.unsubscribeEventListeners()}},{key:"onMouseDown",value:function(e){var t=this;0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",function(e){t.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}},{key:"onMouseUp",value:function(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}},{key:"onTouchStart",value:function(e){var t,n,r,i=this;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),n=!1,r=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){var o=Xe(this.document,"contextmenu").subscribe(function(e){e.preventDefault()}),a=Xe(this.document,"touchmove",{passive:!1}).subscribe(function(o){(i.scrollContainer&&i.scrollContainer.activeLongPressDrag||i.touchStartLongPress)&&!n&&r&&(n=i.shouldBeginDrag(e,o,t)),(i.scrollContainer&&i.scrollContainer.activeLongPressDrag||i.touchStartLongPress)&&r&&!n||(o.preventDefault(),i.pointerMove$.next({event:o,clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=function(){o.unsubscribe(),a.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}},{key:"onTouchEnd",value:function(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}},{key:"onMouseEnter",value:function(){this.setCursor(this.dragCursor)}},{key:"onMouseLeave",value:function(){this.setCursor("")}},{key:"canDrag",value:function(){return this.dragAxis.x||this.dragAxis.y}},{key:"setCursor",value:function(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}},{key:"unsubscribeEventListeners",value:function(){var e=this;Object.keys(this.eventListenerSubscriptions).forEach(function(t){e.eventListenerSubscriptions[t](),delete e.eventListenerSubscriptions[t]})}},{key:"setElementStyles",value:function(e,t){var n=this;Object.keys(t).forEach(function(r){n.renderer.setStyle(e,r,t[r])})}},{key:"getScrollElement",value:function(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}},{key:"getScrollPosition",value:function(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}},{key:"shouldBeginDrag",value:function(e,t,n){var r=this.getScrollPosition(),i=Math.abs(r.top-n.top),o=Math.abs(r.left-n.left),a=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-o,c=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-i,s=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(a+c>s.delta||i>0||o>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=s.delay&&(this.disableScroll(),!0)}},{key:"enableScroll",value:function(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}},{key:"disableScroll",value:function(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}},{key:"hasScrollbar",value:function(){var e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}]),e}()).\u0275fac=function(e){return new(e||Et)(D.Kb(D.l),D.Kb(D.E),D.Kb(_t),D.Kb(D.A),D.Kb(D.P),D.Kb(Ot,8),D.Kb(x.c))},Et.\u0275dir=D.Fb({type:Et,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[D.yb]}),Et);function jt(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}var kt,Ct,Dt,It=((Ct=function(){function e(t,n,r,i,o){f(this,e),this.element=t,this.draggableHelper=n,this.zone=r,this.renderer=i,this.scrollContainer=o,this.dragEnter=new D.n,this.dragLeave=new D.n,this.dragOver=new D.n,this.drop=new D.n}return d(e,[{key:"ngOnInit",value:function(){var e=this;this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(function(n){Lt(e.renderer,e.element,e.dragActiveClass);var r,i,o={updateCache:!0},a=e.renderer.listen(e.scrollContainer?e.scrollContainer.elementRef.nativeElement:"window","scroll",function(){o.updateCache=!0}),c=n.pipe(Object(Re.a)(function(t){var n=t.clientX,i=t.clientY,a=t.dropData,c=t.target;r=a,o.updateCache&&(o.rect=e.element.nativeElement.getBoundingClientRect(),e.scrollContainer&&(o.scrollContainerRect=e.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),o.updateCache=!1);var s=jt(n,i,o.rect),u=!e.validateDrop||e.validateDrop({clientX:n,clientY:i,target:c});return o.scrollContainerRect?s&&u&&jt(n,i,o.scrollContainerRect):s&&u})),s=c.pipe(function(e){return e.lift(new yt(void 0,void 0))});s.pipe(Object(it.a)(function(e){return e})).subscribe(function(){i=!0,Lt(e.renderer,e.element,e.dragOverClass),e.zone.run(function(){e.dragEnter.next({dropData:r})})}),c.pipe(Object(it.a)(function(e){return e})).subscribe(function(){e.zone.run(function(){e.dragOver.next({dropData:r})})}),s.pipe(ht(),Object(it.a)(function(e){var n=t(e,2),r=n[0],i=n[1];return r&&!i})).subscribe(function(){i=!1,xt(e.renderer,e.element,e.dragOverClass),e.zone.run(function(){e.dragLeave.next({dropData:r})})}),n.subscribe({complete:function(){a(),xt(e.renderer,e.element,e.dragActiveClass),i&&(xt(e.renderer,e.element,e.dragOverClass),e.zone.run(function(){e.drop.next({dropData:r})}))}})})}},{key:"ngOnDestroy",value:function(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ct)(D.Kb(D.l),D.Kb(_t),D.Kb(D.A),D.Kb(D.E),D.Kb(Ot,8))},Ct.\u0275dir=D.Fb({type:Ct,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),Ct),Pt=((kt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||kt)},kt.\u0275mod=D.Ib({type:kt}),kt.\u0275inj=D.Hb({}),kt),Tt=["*"],Rt=((Dt=function(){function e(t){f(this,e),this.__listRearranger=t,this.isBeingDragged=!1,this.draggedOntoFromRight=!1,this.draggedOntoFromLeft=!1}return d(e,[{key:"set_isBeingDragged",value:function(){this.isBeingDragged=!0,je.data=this.index}},{key:"unset_isBeingDragged",value:function(){this.isBeingDragged=!1}},{key:"set_isBeingDraggedOnto",value:function(){this.index<je.data?this.draggedOntoFromRight=!0:this.index>je.data&&(this.draggedOntoFromLeft=!0)}},{key:"unset_isBeingDraggedOnto",value:function(){this.draggedOntoFromRight=!1,this.draggedOntoFromLeft=!1}},{key:"dropDraggedItemHere",value:function(){this.__listRearranger.moveItem(je.data,this.index),je.data=-1,this.unset_isBeingDraggedOnto()}}]),e}()).\u0275fac=function(e){return new(e||Dt)(D.Kb(ce))},Dt.\u0275cmp=D.Eb({type:Dt,selectors:[["re-arrangeable-grid-list-item"]],inputs:{index:"index"},ngContentSelectors:Tt,decls:5,vars:6,consts:[["mwlDraggable","","mwlDroppable","","dragOverClass","item-dragged-onto",1,"grid-list-item",3,"dragStart","dragEnd","drop","dragOver","dragLeave"],[1,"re-arrangeable-content-and-spacers-container"],[1,"spacer","left-spacer"],[1,"spacer","right-spacer"]],template:function(e,t){1&e&&(D.ac(),D.Pb(0,"li",0),D.Wb("dragStart",function(){return t.set_isBeingDragged()})("dragEnd",function(){return t.unset_isBeingDragged()})("drop",function(){return t.dropDraggedItemHere()})("dragOver",function(){return t.set_isBeingDraggedOnto()})("dragLeave",function(){return t.unset_isBeingDraggedOnto()}),D.Pb(1,"div",1),D.Lb(2,"div",2),D.Zb(3),D.Lb(4,"div",3),D.Ob(),D.Ob()),2&e&&D.Cb("being-dragged",t.isBeingDragged)("item-dragged-onto-from-left",t.draggedOntoFromLeft)("item-dragged-onto-from-right",t.draggedOntoFromRight)},directives:[St,It],styles:["div.spacer[_ngcontent-%COMP%]{height:100%;padding:0 3px;background-color:transparent;transition:padding .3s}.being-dragged[_ngcontent-%COMP%]{opacity:.65;z-index:1000;position:static}.item-dragged-onto[_ngcontent-%COMP%]{z-index:10;opacity:.5}.item-dragged-onto-from-left[_ngcontent-%COMP%]   div.spacer.right-spacer[_ngcontent-%COMP%], .item-dragged-onto-from-right[_ngcontent-%COMP%]   div.spacer.left-spacer[_ngcontent-%COMP%]{padding:0 40px;background-color:rgba(0,255,0,.9)}delete-image-glyphicon[_ngcontent-%COMP%]{cursor:default}"]}),Dt),Xt=a("m1s+");function Yt(e,t){if(1&e&&(D.Pb(0,"re-arrangeable-grid-list-item",1),D.Lb(1,"thumbnail-image-container",2),D.Ob()),2&e){var n=t.$implicit;D.bc("index",t.index),D.Ab(1),D.bc("image",n)}}var At,Mt,Kt,Ft,Bt,Gt,Ht,Nt,zt,$t,Wt,qt,Ut,Vt,Zt,Jt,Qt,en=((At=function(e){o(n,e);var t=c(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).__listRearranger=e,i.__processSaveLibraryImagesOrder=r,i.pageImages=Y.CurrentPageImagesData,i}return d(n,[{key:"ngOnInit",value:function(){var e=this;this.__listRearranger.setList(this.pageImages.data),this._subscriptions=[this.__listRearranger.rearrangedList$.subscribe(function(t){return Object(P.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__runTasksAfterGettingRearrangedImages(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))})]}},{key:"__runTasksAfterGettingRearrangedImages",value:function(e){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Object(Q.a)(this.pageImages.data,e),t.next=3,this.__processSaveLibraryImagesOrder.go(e);case 3:case"end":return t.stop()}},t,this)}))}}]),n}(ee.a)).\u0275fac=function(e){return new(e||At)(D.Kb(ce),D.Kb(Se))},At.\u0275cmp=D.Eb({type:At,selectors:[["library-images-list"]],features:[D.xb],decls:2,vars:1,consts:[[3,"index",4,"ngFor","ngForOf"],[3,"index"],[3,"image"]],template:function(e,t){1&e&&(D.Pb(0,"ul"),D.oc(1,Yt,2,2,"re-arrangeable-grid-list-item",0),D.Ob()),2&e&&(D.Ab(1),D.bc("ngForOf",t.pageImages.data))},directives:[x.h,Rt,Xt.a],encapsulation:2}),At),tn=a("X4VM"),nn=((Mt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Mt)},Mt.\u0275mod=D.Ib({type:Mt}),Mt.\u0275inj=D.Hb({}),Mt),rn=a("ERbj"),on=a("RuhN"),an=a("ezBO"),cn=((Kt=function(){function e(t,n,r){f(this,e),this.__realmFn=t,this.__sessionIDInBrowser=n,this.__loadedLibrary=r}return d(e,[{key:"go",value:function(){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__realmFn.call("pub_deleteLibrary",{name:this.__loadedLibrary.get().name,sessionID:this.__sessionIDInBrowser.get()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||Kt)(D.Tb(on.a),D.Tb(an.a),D.Tb(G.a))},Kt.\u0275prov=D.Gb({token:Kt,factory:Kt.\u0275fac,providedIn:nn}),Kt),sn=a("7mmc"),un=a("X0HJ"),ln=a("KwsU"),dn=((Gt=function(){function e(t,n){f(this,e),this.__redirectToLoggedInHome=t,this.__processGetLibraries=n}return d(e,[{key:"go",value:function(){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__updateLoadedLibraries();case 2:return e.next=4,this.__redirectToLoggedInHome.go();case 4:un.a.setSuccess("Library deleted");case 5:case"end":return e.stop()}},e,this)}))}},{key:"__updateLoadedLibraries",value:function(){return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__processGetLibraries.go();case 2:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||Gt)(D.Tb(B.a),D.Tb(ln.a))},Gt.\u0275prov=D.Gb({token:Gt,factory:Gt.\u0275fac,providedIn:nn}),Gt),fn=((Bt=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(ye.a)).\u0275fac=function(e){return new(e||Bt)(D.Tb(sn.a),D.Tb(dn))},Bt.\u0275prov=D.Gb({token:Bt,factory:Bt.\u0275fac,providedIn:nn}),Bt),gn=((Ft=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(rn.a)).\u0275fac=function(e){return new(e||Ft)(D.Tb(cn),D.Tb(fn))},Ft.\u0275prov=D.Gb({token:Ft,factory:Ft.\u0275fac,providedIn:nn}),Ft),hn=a("UFUm"),pn=(($t=function(t){o(r,t);var n=c(r);function r(e){return f(this,r),n.call(this,e)}return d(r,[{key:"execute",value:function(){var t=this,n=Object.create(null,{execute:{get:function(){return e(u(r.prototype),"execute",t)}}});return Object(P.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=window.confirm("Are you sure you want to delete the library?"),!e.t0){e.next=4;break}return e.next=4,n.execute.call(this);case 4:case"end":return e.stop()}},e,this)}))}}]),r}(tn.a)).\u0275fac=function(e){return new(e||$t)(D.Kb(gn))},$t.\u0275cmp=D.Eb({type:$t,selectors:[["delete-library-button"]],features:[D.xb],decls:2,vars:1,consts:[[3,"context"]],template:function(e,t){1&e&&(D.Pb(0,"execute-function-button",0),D.pc(1,"Delete Library"),D.Ob()),2&e&&D.bc("context",t)},directives:[hn.a],encapsulation:2}),$t),mn=((zt=function(e){o(n,e);var t=c(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this))._storedImageTotal=e,o.paginator=r,o.jumpToPageInput=i,o.routeBeforePageNumber="/library/".concat(k.a.name,"/page"),o}return n}(W.a)).\u0275fac=function(e){return new(e||zt)(D.Kb(q.a),D.Kb(F.a),D.Kb(Z))},zt.\u0275cmp=D.Eb({type:zt,selectors:[["library-viewer"]],features:[D.xb],decls:3,vars:1,consts:[[3,"context"]],template:function(e,t){1&e&&(D.Pb(0,"images-viewer",0),D.Lb(1,"library-images-list"),D.Ob(),D.Lb(2,"delete-library-button")),2&e&&D.bc("context",t)},directives:[J.a,en,pn],encapsulation:2}),zt),vn=((Nt=function(e){o(n,e);var t=c(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).backgroundExecutionStatus=j.a,i}return d(n,[{key:"heading",get:function(){return k.a.name}}]),n}(C.a)).\u0275fac=function(e){return new(e||Nt)(D.Kb(I.a),D.Kb(z))},Nt.\u0275cmp=D.Eb({type:Nt,selectors:[["app-library"]],features:[D.xb],decls:2,vars:2,consts:[[3,"heading","loadingStatus"]],template:function(e,t){1&e&&(D.Pb(0,"loading-content-section",0),D.Lb(1,"library-viewer"),D.Ob()),2&e&&D.bc("heading",t.heading)("loadingStatus",t.backgroundExecutionStatus)},directives:[$.a,mn],encapsulation:2}),Nt),bn=((Ht=function e(){f(this,e)}).FullSizeImageViewerModule=":".concat(X.a.libName,"/image"),Ht.LibraryComponent=":".concat(X.a.libName,"/page/:").concat(X.a.pageNumber),Ht),yn=a("tyNb"),wn=[{path:bn.FullSizeImageViewerModule,loadChildren:function(){return a.e(6).then(a.bind(null,"mEd3")).then(function(e){return e.FullSizeImageViewerModule})}},{path:bn.LibraryComponent,component:vn,canActivate:[S.a]},{path:"",pathMatch:"full",redirectTo:"/"},{path:"**",redirectTo:"/"}],_n=((Wt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Wt)},Wt.\u0275mod=D.Ib({type:Wt}),Wt.\u0275inj=D.Hb({imports:[[yn.e.forChild(wn)],yn.e]}),Wt),On=a("K9Zg"),Ln=((qt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||qt)},qt.\u0275mod=D.Ib({type:qt}),qt.\u0275inj=D.Hb({imports:[[x.b,On.a,nn]]}),qt),xn=a("K6N/"),En=((Vt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Vt)},Vt.\u0275mod=D.Ib({type:Vt}),Vt.\u0275inj=D.Hb({imports:[[x.b]]}),Vt),Sn=((Ut=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Ut)},Ut.\u0275mod=D.Ib({type:Ut}),Ut.\u0275inj=D.Hb({imports:[[x.b,Pt]]}),Ut),jn=a("0M2f"),kn=((Qt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Qt)},Qt.\u0275mod=D.Ib({type:Qt}),Qt.\u0275inj=D.Hb({imports:[[x.b,jn.a,Sn,En,te]]}),Qt),Cn=((Jt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Jt)},Jt.\u0275mod=D.Ib({type:Jt}),Jt.\u0275inj=D.Hb({imports:[[x.b,Ln,kn,V,xn.a]]}),Jt),Dn=((Zt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Zt)},Zt.\u0275mod=D.Ib({type:Zt}),Zt.\u0275inj=D.Hb({imports:[[x.b,E.a,Cn,R,_n]]}),Zt)}}])}();