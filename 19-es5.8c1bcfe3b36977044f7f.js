!function(){function e(t,n,r){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(t,n,r||t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){c=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"ZhY/":function(r,i,a){"use strict";a.r(i),a.d(i,"LibraryModule",function(){return Tn});var s,l,g,h,m,p,v,b,y,w,_,O,L,x,E=a("ofXK"),S=a("rEd/"),k=a("H90k"),C=a("tHcr"),j=a("a9nm"),D=a("O0t9"),I=a("fXoL"),P=a("cBL8"),T=a("mrSG"),R=a("ySWE"),X=((s=function e(){f(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275mod=I.Ib({type:s}),s.\u0275inj=I.Hb({}),s),Y=a("pFFK"),A=a("0wL/"),M=a("tCSI"),K=a("/1kH"),F=a("cG1J"),B=a("bj0Z"),G=((l=function(){function e(t,n){f(this,e),this.__libraryPaginator=t,this.__setCurrentPageImages=n}return d(e,[{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reload:!1};return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.__setCurrentPageImages.go(e,this.__libraryPaginator,t);case 2:case"end":return n.stop()}},n,this)}))}}]),e}()).\u0275fac=function(e){return new(e||l)(I.Tb(F.a),I.Tb(B.a))},l.\u0275prov=I.Gb({token:l,factory:l.\u0275fac,providedIn:X}),l),H=a("eQ77"),z=a("9Lnp"),N=((g=function(){function e(t,n,r){f(this,e),this.__setCurrentPageImages=t,this.__redirectToLoggedInHome=n,this.__loadedLibrary=r}return d(e,[{key:"go",value:function(e,t){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.__libraryNotLoaded(e)){n.next=7;break}if(!this.__libraryDoesntExist(e)){n.next=3;break}return n.abrupt("return",this.__redirectToLoggedInHome.go());case 3:return n.next=5,this.__setCurrentPageImages.go(t,{reload:!0});case 5:n.next=9;break;case 7:return n.next=9,this.__setCurrentPageImages.go(t);case 9:case"end":return n.stop()}},n,this)}))}},{key:"__libraryNotLoaded",value:function(e){return Object(M.b)(this.__loadedLibrary.get())||e!==this.__loadedLibrary.get().name}},{key:"__libraryDoesntExist",value:function(e){return Object(K.a)(A.LibraryNamesData.data.includes(e))}}]),e}()).\u0275fac=function(e){return new(e||g)(I.Tb(G),I.Tb(H.a),I.Tb(z.a))},g.\u0275prov=I.Gb({token:g,factory:g.\u0275fac,providedIn:X}),g),$=a("jhN1"),W=((h=function(){function e(t,n){f(this,e),this.__loadLibrary=t,this.__title=n}return d(e,[{key:"go",value:function(e){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return j.a.name=e[Y.a.libName],this.__title.setTitle(R.a.go(["Library",j.a.name])),n=Number(e[Y.a.pageNumber]),t.next=4,this.__loadLibrary.go(j.a.name,n);case 4:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||h)(I.Tb(N),I.Tb($.b))},h.\u0275prov=I.Gb({token:h,factory:h.\u0275fac,providedIn:X}),h),q=a("+3qu"),U=a("rvGS"),V=a("zyDs"),Z=a("nlwr"),J=((p=function e(){f(this,e)}).\u0275fac=function(e){return new(e||p)},p.\u0275mod=I.Ib({type:p}),p.\u0275inj=I.Hb({}),p),Q=((m=function(e){o(n,e);var t=c(n);function n(e){return f(this,n),t.call(this,e)}return n}(Z.a)).\u0275fac=function(e){return new(e||m)(I.Tb(F.a))},m.\u0275prov=I.Gb({token:m,factory:m.\u0275fac,providedIn:J}),m),ee=a("CyIf"),te=a("qLpH"),ne=a("L8SX"),re=a("hFy4"),ie=((v=function e(){f(this,e)}).\u0275fac=function(e){return new(e||v)},v.\u0275mod=I.Ib({type:v}),v.\u0275inj=I.Hb({}),v),oe=a("cFse"),ae=a("IKcc"),ce=a("rZSF"),se=a("y46q"),ue=a("XNiG"),le=((b=function(){function e(){f(this,e),this.__subject=new ue.a}return d(e,[{key:"setList",value:function(e){this.__list=e}},{key:"subscribe",value:function(e){return this.__subject.subscribe(e)}},{key:"moveItem",value:function(e,t){e!==t&&(function(e,t,r){var i=r.length;Object(ae.a)(t,i),t<0&&(t=i+t);var o=Object(ce.a)(e,r);t===i-1?Object(oe.a)(o,r):function(e,t,r){if(Object(se.a)(t),Object(ae.a)(e,r.length),e<0){if(!(e<-1))return function(e,t){t.push.apply(t,n(e))}(t,r);++e}r.splice.apply(r,[e,0].concat(n(t)))}(t,[o],r)}(e,t,this.__list),this.__subject.next(this.__list))}}]),e}()).\u0275fac=function(e){return new(e||b)},b.\u0275prov=I.Gb({token:b,factory:b.\u0275fac,providedIn:ie}),b),de=a("0bMq"),fe=a("nYfu"),ge=a("fOwj"),he=((y=function(){function e(t,n){f(this,e),this.__loadedLibrary=t,this.__libPaginator=n}return d(e,[{key:"go",value:function(e){var t=this.__loadedLibrary.get();return this.__get_image_ids_inNewOrder(e,t._image_ids)}},{key:"__get_image_ids_inNewOrder",value:function(e,t){var n=this.__libPaginator.getCurrentPageNumber(),r=e.map(function(e){return e._id});return this.__replacePage(n,r,t),t}},{key:"__replacePage",value:function(e,t,r){var i;!function(e,t,r,i){Object(ge.a)(e,t,i),Object(fe.a)(e,t,i.length),i.splice.apply(i,[e,t].concat(n(r)))}(this.__libPaginator.getItemsPerPage()*(e-1),(i=t).length,i,r)}}]),e}()).\u0275fac=function(e){return new(e||y)(I.Tb(z.a),I.Tb(F.a))},y.\u0275prov=I.Gb({token:y,factory:y.\u0275fac,providedIn:ie}),y),me=a("rDaN"),pe=a("3Rtb"),ve=a("fQ1K"),be=a("FPQd"),ye=((w=function(){function e(t,n){f(this,e),this.__loadedImagesState=t,this.__libPaginator=n}return d(e,[{key:"go",value:function(e){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.__loadedImagesState.getImages(),r=this.__getImageIDsOfCurrentLoad(e,n.length),this.__reorderLoadedImagesToMatchOrderOfImageIDs(n,r),t.next=5,this.__syncPaginatorWithCurrentPageImages();case 5:case"end":return t.stop()}},t,this)}))}},{key:"__getImageIDsOfCurrentLoad",value:function(e,t){var n=this.__libPaginator.getItemsPerLoad()/this.__libPaginator.getItemsPerPage(),r=Object(ve.b)(this.__libPaginator.getCurrentPageNumber()/n);return Object(pe.a)(r-1,t,e)}},{key:"__reorderLoadedImagesToMatchOrderOfImageIDs",value:function(e,t){var n=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]._id]=e[n];return t}(e);this.__loadedImagesState.set({images:Object(me.a)(t.length,function(e){return n[t[e]]}),from:"library"})}},{key:"__syncPaginatorWithCurrentPageImages",value:function(){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.__libPaginator.getCurrentPage(),Object(ne.a)(t,A.CurrentPageImagesData.data);case 2:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||w)(I.Tb(be.a),I.Tb(F.a))},w.\u0275prov=I.Gb({token:w,factory:w.\u0275fac,providedIn:ie}),w),we=a("zv6k"),_e=((_=function(){function e(t,n,r){f(this,e),this.__getLibraryImageIDsReordered=t,this.__reorderLoadedImages=n,this.__updateLibrary=r}return d(e,[{key:"go",value:function(e){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__getLibraryImageIDsReordered.go(e);case 2:return n=t.sent,t.next=5,this.__reorderLoadedImages.go(n);case 5:return t.next=7,this.__updateLibrary.go(j.a.name,{_image_ids:n});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||_)(I.Tb(he),I.Tb(ye),I.Tb(we.a))},_.\u0275prov=I.Gb({token:_,factory:_.\u0275fac,providedIn:ie}),_),Oe=a("bW8z"),Le=a("Omw0"),xe=a("rHRF"),Ee=a("5nyK"),Se=a("CIKf"),ke=((x=function(){function e(t,n){f(this,e),this.__updateLibrariesInBrowser=t,this.__ifUpdatedLibraryIsBeingViewedThenReloadCurrentPageData=n}return d(e,[{key:"go",value:function(e){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:xe.a.go(e),this.__updateLibrariesInBrowser.go(e);case 1:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||x)(I.Tb(Ee.a),I.Tb(Se.a))},x.\u0275prov=I.Gb({token:x,factory:x.\u0275fac,providedIn:"root"}),x),Ce=((L=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(Oe.a)).\u0275fac=function(e){return new(e||L)(I.Tb(Le.a),I.Tb(ke))},L.\u0275prov=I.Gb({token:L,factory:L.\u0275fac,providedIn:ie}),L),je=((O=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(de.a)).\u0275fac=function(e){return new(e||O)(I.Tb(_e),I.Tb(Ce))},O.\u0275prov=I.Gb({token:O,factory:O.\u0275fac,providedIn:ie}),O),De={data:-1},Ie=a("HDdC"),Pe=a("jtHE"),Te=a("VRyK"),Re=a("itXk"),Xe=a("DH7j"),Ye=a("n6bG"),Ae=a("lJxs");function Me(e,t,r,i){return Object(Ye.a)(r)&&(i=r,r=void 0),i?Me(e,t,r).pipe(Object(Ae.a)(function(e){return Object(Xe.a)(e)?i.apply(void 0,n(e)):i(e)})):new Ie.a(function(n){Ke(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,r)})}function Ke(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var c=e;e.on(t,n),o=function(){return c.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var s=e;e.addListener(t,n),o=function(){return s.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,l=e.length;u<l;u++)Ke(e[u],t,n,r,i)}r.add(o)}function Fe(e,t){var n,r;return r=t,"function"==typeof(e=void 0===(n=e)?void 0===r?n:r:n)?function(){for(var t=arguments,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=t[i];return!!e.apply(this,r)}:e?function(){return!0}:function(){return!1}}var Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Ge=function(e){return null!=e&&"object"===(void 0===e?"undefined":Be(e))&&1===e.nodeType&&"object"===Be(e.style)&&"object"===Be(e.ownerDocument)};function He(e,t){if(t=qe(t,!0),!Ge(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function ze(e,t){return-1!==He(e,t)}function Ne(e,t){for(var n=0;n<t.length;n++)ze(e,t[n])||e.push(t[n]);return t}function $e(e){for(var t=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=t[r+1];return Ne(e,n=n.map(qe))}function We(e){for(var t=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=t[r+1];return n.map(qe).reduce(function(t,n){var r=He(e,n);return-1!==r?t.concat(e.splice(r,1)):t},[])}function qe(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!Ge(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function Ue(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}var Ve,Ze=void 0;"function"!=typeof Object.create?(Ve=function(){},Ze=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");Ve.prototype=e||{};var n=new Ve;return Ve.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):Ze=Object.create;var Je=Ze,Qe=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function et(e,t){t=t||{};for(var n=Je(e),r=0;r<Qe.length;r++)void 0!==t[Qe[r]]&&(n[Qe[r]]=t[Qe[r]]);return n}function tt(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}var nt=["webkit","moz","ms","o"],rt=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=nt.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[nt[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),r=Math.max(0,16-t-n),i=window.setTimeout(function(){return e(t+r)},r);return n=t+r,i}}return window.requestAnimationFrame.bind(window)}(),it=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=nt.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[nt[e]+"CancelAnimationFrame"]||window[nt[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function ot(e,t){void 0===t&&(t={});var n=this,r=4,i=!1;if("object"!=typeof t.margin){var o=t.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var a,c={},s=function(e,t){var n=Fe((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var r=t.target&&t.target.ownerDocument||document,i=r.documentElement,o=r.body;e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(c),u=(a={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null},{destroy:function(){a=null},dispatch:MouseEvent?function(e,t,n){var r=new MouseEvent("mousemove",et(a,t));return tt(r,n),e.dispatchEvent(r)}:"function"==typeof document.createEvent?function(e,t,n){var r=et(a,t),i=document.createEvent("MouseEvents");return i.initMouseEvent("mousemove",!0,!0,window,0,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),tt(i,n),e.dispatchEvent(i)}:"function"==typeof document.createEventObject?function(e,t,n){var r=document.createEventObject(),i=et(a,t);for(var o in i)r[o]=i[o];return tt(r,n),e.dispatchEvent(r)}:void 0}),l=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(t.maxSpeed)||(r=t.maxSpeed),"object"!=typeof r&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=Fe(t.autoScroll),this.syncMove=Fe(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",v,!1),window.removeEventListener("touchstart",v,!1),window.removeEventListener("mouseup",b,!1),window.removeEventListener("touchend",b,!1),window.removeEventListener("pointerup",b,!1),window.removeEventListener("mouseleave",w,!1),window.removeEventListener("mousemove",O,!1),window.removeEventListener("touchmove",O,!1),window.removeEventListener("scroll",p,!0),e=[],t&&y()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return $e.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return We.apply(void 0,[e].concat(t))};var d,f,g=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),f=e,e=[],f.forEach(function(e){e===window?g=window:n.add(e)}),Object.defineProperties(this,{down:{get:function(){return l}},maxSpeed:{get:function(){return r}},point:{get:function(){return c}},scrolling:{get:function(){return i}}});var h,m=null;function p(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){i=!0;break}i&&rt(function(){return i=!1})}function v(){l=!0}function b(){l=!1,y()}function y(){it(h),it(d)}function w(){l=!1}function _(){for(var t=null,n=0;n<e.length;n++)at(c,e[n])&&(t=e[n]);return t}function O(t){if(n.autoScroll()&&!t.dispatched){var r=t.target,i=document.body;m&&!at(c,m)&&(n.scrollWhenOutside||(m=null)),r&&r.parentNode===i?r=_():(r=function(t){if(!t)return null;if(m===t)return t;if(ze(e,t))return t;for(;t=t.parentNode;)if(ze(e,t))return t;return null}(r))||(r=_()),r&&r!==m&&(m=r),g&&(it(d),d=rt(L)),m&&(it(h),h=rt(x))}}function L(){E(g),it(d),d=rt(L)}function x(){m&&(E(m),it(h),h=rt(x))}function E(e){var t,r,i=Ue(e);t=c.x<i.left+n.margin.left?Math.floor(Math.max(-1,(c.x-i.left)/n.margin.left-1)*n.maxSpeed.left):c.x>i.right-n.margin.right?Math.ceil(Math.min(1,(c.x-i.right)/n.margin.right+1)*n.maxSpeed.right):0,r=c.y<i.top+n.margin.top?Math.floor(Math.max(-1,(c.y-i.top)/n.margin.top-1)*n.maxSpeed.top):c.y>i.bottom-n.margin.bottom?Math.ceil(Math.min(1,(c.y-i.bottom)/n.margin.bottom+1)*n.maxSpeed.bottom):0,n.syncMove()&&u.dispatch(e,{pageX:c.pageX+t,pageY:c.pageY+r,clientX:c.x+t,clientY:c.y+r}),setTimeout(function(){r&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,r),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)})}window.addEventListener("mousedown",v,!1),window.addEventListener("touchstart",v,!1),window.addEventListener("mouseup",b,!1),window.addEventListener("touchend",b,!1),window.addEventListener("pointerup",b,!1),window.addEventListener("mousemove",O,!1),window.addEventListener("touchmove",O,!1),window.addEventListener("mouseleave",w,!1),window.addEventListener("scroll",p,!0)}function at(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:function(e,t){var n=Ue(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}(e,t)}var ct=a("pLZG"),st=a("5+tZ"),ut=a("JX91"),lt=a("w1tV"),dt=a("1G5W"),ft=a("IzEk"),gt=a("BFxc"),ht=a("7o/Q"),mt=function(){function e(t,n){f(this,e),this.predicate=t,this.source=n}return d(e,[{key:"call",value:function(e,t){return t.subscribe(new pt(e,this.predicate,this.source))}}]),e}(),pt=function(e){o(n,e);var t=c(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this,e)).predicate=r,o.source=i,o.count=0,o.index=0,o}return d(n,[{key:"_next",value:function(e){this.predicate?this._tryPredicate(e):this.count++}},{key:"_tryPredicate",value:function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}},{key:"_complete",value:function(){this.destination.next(this.count),this.destination.complete()}}]),n}(ht.a);function vt(){return function(e){return e.lift(new wt)}}var bt,yt,wt=function(){function e(){f(this,e)}return d(e,[{key:"call",value:function(e,t){return t.subscribe(new _t(e))}}]),e}(),_t=function(e){o(n,e);var t=c(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).hasPrev=!1,r}return d(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(ht.a),Ot=function(){function e(t,n){f(this,e),this.compare=t,this.keySelector=n}return d(e,[{key:"call",value:function(e,t){return t.subscribe(new Lt(e,this.compare,this.keySelector))}}]),e}(),Lt=function(e){o(n,e);var t=c(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return d(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(ht.a),xt=((yt=function e(){f(this,e),this.currentDrag=new ue.a}).\u0275fac=function(e){return new(e||yt)},yt.\u0275prov=I.Gb({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt.ngInjectableDef=Object(I.S)({factory:function(){return new yt},token:yt,providedIn:"root"}),yt),Et=((bt=function e(t){f(this,e),this.elementRef=t,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}).\u0275fac=function(e){return new(e||bt)(I.Kb(I.l))},bt.\u0275dir=I.Fb({type:bt,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),bt);function St(e,t,n){n&&n.split(" ").forEach(function(n){return e.addClass(t.nativeElement,n)})}function kt(e,t,n){n&&n.split(" ").forEach(function(n){return e.removeClass(t.nativeElement,n)})}var Ct,jt=((Ct=function(){function e(t,n,r,i,o,a,c){f(this,e),this.element=t,this.renderer=n,this.draggableHelper=r,this.zone=i,this.vcr=o,this.scrollContainer=a,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new I.n,this.dragStart=new I.n,this.ghostElementCreated=new I.n,this.dragging=new I.n,this.dragEnd=new I.n,this.pointerDown$=new ue.a,this.pointerMove$=new ue.a,this.pointerUp$=new ue.a,this.eventListenerSubscriptions={},this.destroy$=new ue.a,this.timeLongPress={timerBegin:0,timerEnd:0}}return d(e,[{key:"ngOnInit",value:function(){var e=this;this.checkEventListeners();var n=this.pointerDown$.pipe(Object(ct.a)(function(){return e.canDrag()}),Object(st.a)(function(n){n.event.stopPropagation&&!e.scrollContainer&&n.event.stopPropagation();var r=e.renderer.createElement("style");e.renderer.setAttribute(r,"type","text/css"),e.renderer.appendChild(r,e.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(function(){e.document.head.appendChild(r)});var i=e.getScrollPosition(),o=new Ie.a(function(t){return e.renderer.listen(e.scrollContainer?e.scrollContainer.elementRef.nativeElement:"window","scroll",function(e){return t.next(e)})}).pipe(Object(ut.a)(i),Object(Ae.a)(function(){return e.getScrollPosition()})),a=new ue.a,c=new Pe.a;e.zone.run(function(){e.dragPointerDown.next({x:0,y:0})});var s=Object(Te.a)(e.pointerUp$,e.pointerDown$,c,e.destroy$).pipe(Object(lt.a)()),u=Object(Re.a)([e.pointerMove$,o]).pipe(Object(Ae.a)(function(e){var r=t(e,2),i=r[0],o=r[1];return{currentDrag$:a,transformX:i.clientX-n.clientX,transformY:i.clientY-n.clientY,clientX:i.clientX,clientY:i.clientY,scrollLeft:o.left,scrollTop:o.top,target:i.event.target}}),Object(Ae.a)(function(t){return e.dragSnapGrid.x&&(t.transformX=Math.round(t.transformX/e.dragSnapGrid.x)*e.dragSnapGrid.x),e.dragSnapGrid.y&&(t.transformY=Math.round(t.transformY/e.dragSnapGrid.y)*e.dragSnapGrid.y),t}),Object(Ae.a)(function(t){return e.dragAxis.x||(t.transformX=0),e.dragAxis.y||(t.transformY=0),t}),Object(Ae.a)(function(e){return Object.assign({},e,{x:e.transformX+(e.scrollLeft-i.left),y:e.transformY+(e.scrollTop-i.top)})}),Object(ct.a)(function(t){var n=t.x,r=t.y,i=t.transformX,o=t.transformY;return!e.validateDrag||e.validateDrag({x:n,y:r,transform:{x:i,y:o}})}),Object(dt.a)(s),Object(lt.a)()),l=u.pipe(Object(ft.a)(1),Object(lt.a)()),d=u.pipe(Object(gt.a)(1),Object(lt.a)());return l.subscribe(function(t){var n=t.clientX,r=t.clientY,i=t.x,o=t.y;if(e.zone.run(function(){e.dragStart.next({cancelDrag$:c})}),e.scroller=new ot([e.scrollContainer?e.scrollContainer.elementRef.nativeElement:e.document.defaultView],Object.assign({},e.autoScroll,{autoScroll:function(){return!0}})),St(e.renderer,e.element,e.dragActiveClass),e.ghostDragEnabled){var s=e.element.nativeElement.getBoundingClientRect(),u=e.element.nativeElement.cloneNode(!0);if(e.showOriginalElementWhileDragging||e.renderer.setStyle(e.element.nativeElement,"visibility","hidden"),e.ghostElementAppendTo?e.ghostElementAppendTo.appendChild(u):e.element.nativeElement.parentNode.insertBefore(u,e.element.nativeElement.nextSibling),e.ghostElement=u,e.document.body.style.cursor=e.dragCursor,e.setElementStyles(u,{position:"fixed",top:"".concat(s.top,"px"),left:"".concat(s.left,"px"),width:"".concat(s.width,"px"),height:"".concat(s.height,"px"),cursor:e.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),e.ghostElementTemplate){var l=e.vcr.createEmbeddedView(e.ghostElementTemplate);u.innerHTML="",l.rootNodes.filter(function(e){return e instanceof Node}).forEach(function(e){u.appendChild(e)}),d.subscribe(function(){e.vcr.remove(e.vcr.indexOf(l))})}e.zone.run(function(){e.ghostElementCreated.emit({clientX:n-i,clientY:r-o,element:u})}),d.subscribe(function(){u.parentElement.removeChild(u),e.ghostElement=null,e.renderer.setStyle(e.element.nativeElement,"visibility","")})}e.draggableHelper.currentDrag.next(a)}),d.pipe(Object(st.a)(function(e){var t=c.pipe(function(e){return e.lift(new mt(void 0,e))},Object(ft.a)(1),Object(Ae.a)(function(t){return Object.assign({},e,{dragCancelled:t>0})}));return c.complete(),t})).subscribe(function(t){var n=t.x,r=t.y,i=t.dragCancelled;e.scroller.destroy(),e.zone.run(function(){e.dragEnd.next({x:n,y:r,dragCancelled:i})}),kt(e.renderer,e.element,e.dragActiveClass),a.complete()}),Object(Te.a)(s,d).pipe(Object(ft.a)(1)).subscribe(function(){requestAnimationFrame(function(){e.document.head.removeChild(r)})}),u}),Object(lt.a)());Object(Te.a)(n.pipe(Object(ft.a)(1),Object(Ae.a)(function(e){return[,e]})),n.pipe(vt())).pipe(Object(ct.a)(function(e){var n=t(e,2),r=n[0],i=n[1];return!r||r.x!==i.x||r.y!==i.y}),Object(Ae.a)(function(e){var n=t(e,2);return n[0],n[1]})).subscribe(function(t){var n=t.x,r=t.y,i=t.currentDrag$,o=t.clientX,a=t.clientY,c=t.transformX,s=t.transformY,u=t.target;e.zone.run(function(){e.dragging.next({x:n,y:r})}),requestAnimationFrame(function(){if(e.ghostElement){var t="translate3d(".concat(c,"px, ").concat(s,"px, 0px)");e.setElementStyles(e.ghostElement,{transform:t,"-webkit-transform":t,"-ms-transform":t,"-moz-transform":t,"-o-transform":t})}}),i.next({clientX:o,clientY:a,dropData:e.dropData,target:u})})}},{key:"ngOnChanges",value:function(e){e.dragAxis&&this.checkEventListeners()}},{key:"ngOnDestroy",value:function(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}},{key:"checkEventListeners",value:function(){var e=this,t=this.canDrag(),n=Object.keys(this.eventListenerSubscriptions).length>0;t&&!n?this.zone.runOutsideAngular(function(){e.eventListenerSubscriptions.mousedown=e.renderer.listen(e.element.nativeElement,"mousedown",function(t){e.onMouseDown(t)}),e.eventListenerSubscriptions.mouseup=e.renderer.listen("document","mouseup",function(t){e.onMouseUp(t)}),e.eventListenerSubscriptions.touchstart=e.renderer.listen(e.element.nativeElement,"touchstart",function(t){e.onTouchStart(t)}),e.eventListenerSubscriptions.touchend=e.renderer.listen("document","touchend",function(t){e.onTouchEnd(t)}),e.eventListenerSubscriptions.touchcancel=e.renderer.listen("document","touchcancel",function(t){e.onTouchEnd(t)}),e.eventListenerSubscriptions.mouseenter=e.renderer.listen(e.element.nativeElement,"mouseenter",function(){e.onMouseEnter()}),e.eventListenerSubscriptions.mouseleave=e.renderer.listen(e.element.nativeElement,"mouseleave",function(){e.onMouseLeave()})}):!t&&n&&this.unsubscribeEventListeners()}},{key:"onMouseDown",value:function(e){var t=this;0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",function(e){t.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}},{key:"onMouseUp",value:function(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}},{key:"onTouchStart",value:function(e){var t,n,r,i=this;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),n=!1,r=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){var o=Me(this.document,"contextmenu").subscribe(function(e){e.preventDefault()}),a=Me(this.document,"touchmove",{passive:!1}).subscribe(function(o){(i.scrollContainer&&i.scrollContainer.activeLongPressDrag||i.touchStartLongPress)&&!n&&r&&(n=i.shouldBeginDrag(e,o,t)),(i.scrollContainer&&i.scrollContainer.activeLongPressDrag||i.touchStartLongPress)&&r&&!n||(o.preventDefault(),i.pointerMove$.next({event:o,clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=function(){o.unsubscribe(),a.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}},{key:"onTouchEnd",value:function(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}},{key:"onMouseEnter",value:function(){this.setCursor(this.dragCursor)}},{key:"onMouseLeave",value:function(){this.setCursor("")}},{key:"canDrag",value:function(){return this.dragAxis.x||this.dragAxis.y}},{key:"setCursor",value:function(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}},{key:"unsubscribeEventListeners",value:function(){var e=this;Object.keys(this.eventListenerSubscriptions).forEach(function(t){e.eventListenerSubscriptions[t](),delete e.eventListenerSubscriptions[t]})}},{key:"setElementStyles",value:function(e,t){var n=this;Object.keys(t).forEach(function(r){n.renderer.setStyle(e,r,t[r])})}},{key:"getScrollElement",value:function(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}},{key:"getScrollPosition",value:function(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}},{key:"shouldBeginDrag",value:function(e,t,n){var r=this.getScrollPosition(),i=Math.abs(r.top-n.top),o=Math.abs(r.left-n.left),a=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-o,c=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-i,s=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(a+c>s.delta||i>0||o>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=s.delay&&(this.disableScroll(),!0)}},{key:"enableScroll",value:function(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}},{key:"disableScroll",value:function(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}},{key:"hasScrollbar",value:function(){var e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}]),e}()).\u0275fac=function(e){return new(e||Ct)(I.Kb(I.l),I.Kb(I.E),I.Kb(xt),I.Kb(I.A),I.Kb(I.P),I.Kb(Et,8),I.Kb(E.c))},Ct.\u0275dir=I.Fb({type:Ct,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[I.yb]}),Ct);function Dt(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}var It,Pt,Tt,Rt=((Pt=function(){function e(t,n,r,i,o){f(this,e),this.element=t,this.draggableHelper=n,this.zone=r,this.renderer=i,this.scrollContainer=o,this.dragEnter=new I.n,this.dragLeave=new I.n,this.dragOver=new I.n,this.drop=new I.n}return d(e,[{key:"ngOnInit",value:function(){var e=this;this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(function(n){St(e.renderer,e.element,e.dragActiveClass);var r,i,o={updateCache:!0},a=e.renderer.listen(e.scrollContainer?e.scrollContainer.elementRef.nativeElement:"window","scroll",function(){o.updateCache=!0}),c=n.pipe(Object(Ae.a)(function(t){var n=t.clientX,i=t.clientY,a=t.dropData,c=t.target;r=a,o.updateCache&&(o.rect=e.element.nativeElement.getBoundingClientRect(),e.scrollContainer&&(o.scrollContainerRect=e.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),o.updateCache=!1);var s=Dt(n,i,o.rect),u=!e.validateDrop||e.validateDrop({clientX:n,clientY:i,target:c});return o.scrollContainerRect?s&&u&&Dt(n,i,o.scrollContainerRect):s&&u})),s=c.pipe(function(e){return e.lift(new Ot(void 0,void 0))});s.pipe(Object(ct.a)(function(e){return e})).subscribe(function(){i=!0,St(e.renderer,e.element,e.dragOverClass),e.zone.run(function(){e.dragEnter.next({dropData:r})})}),c.pipe(Object(ct.a)(function(e){return e})).subscribe(function(){e.zone.run(function(){e.dragOver.next({dropData:r})})}),s.pipe(vt(),Object(ct.a)(function(e){var n=t(e,2),r=n[0],i=n[1];return r&&!i})).subscribe(function(){i=!1,kt(e.renderer,e.element,e.dragOverClass),e.zone.run(function(){e.dragLeave.next({dropData:r})})}),n.subscribe({complete:function(){a(),kt(e.renderer,e.element,e.dragActiveClass),i&&(kt(e.renderer,e.element,e.dragOverClass),e.zone.run(function(){e.drop.next({dropData:r})}))}})})}},{key:"ngOnDestroy",value:function(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Pt)(I.Kb(I.l),I.Kb(xt),I.Kb(I.A),I.Kb(I.E),I.Kb(Et,8))},Pt.\u0275dir=I.Fb({type:Pt,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),Pt),Xt=((It=function e(){f(this,e)}).\u0275fac=function(e){return new(e||It)},It.\u0275mod=I.Ib({type:It}),It.\u0275inj=I.Hb({}),It),Yt=["*"],At=((Tt=function(){function e(t){f(this,e),this.__listRearranger=t,this.isBeingDragged=!1,this.draggedOntoFromRight=!1,this.draggedOntoFromLeft=!1}return d(e,[{key:"set_isBeingDragged",value:function(){this.isBeingDragged=!0,De.data=this.index}},{key:"unset_isBeingDragged",value:function(){this.isBeingDragged=!1}},{key:"set_isBeingDraggedOnto",value:function(){this.index<De.data?this.draggedOntoFromRight=!0:this.index>De.data&&(this.draggedOntoFromLeft=!0)}},{key:"unset_isBeingDraggedOnto",value:function(){this.draggedOntoFromRight=!1,this.draggedOntoFromLeft=!1}},{key:"dropDraggedItemHere",value:function(){this.__listRearranger.moveItem(De.data,this.index),De.data=-1,this.unset_isBeingDraggedOnto()}}]),e}()).\u0275fac=function(e){return new(e||Tt)(I.Kb(le))},Tt.\u0275cmp=I.Eb({type:Tt,selectors:[["re-arrangeable-grid-list-item"]],inputs:{index:"index"},ngContentSelectors:Yt,decls:5,vars:6,consts:[["mwlDraggable","","mwlDroppable","","dragOverClass","item-dragged-onto",1,"grid-list-item",3,"dragStart","dragEnd","drop","dragOver","dragLeave"],[1,"re-arrangeable-content-and-spacers-container"],[1,"spacer","left-spacer"],[1,"spacer","right-spacer"]],template:function(e,t){1&e&&(I.ac(),I.Pb(0,"li",0),I.Wb("dragStart",function(){return t.set_isBeingDragged()})("dragEnd",function(){return t.unset_isBeingDragged()})("drop",function(){return t.dropDraggedItemHere()})("dragOver",function(){return t.set_isBeingDraggedOnto()})("dragLeave",function(){return t.unset_isBeingDraggedOnto()}),I.Pb(1,"div",1),I.Lb(2,"div",2),I.Zb(3),I.Lb(4,"div",3),I.Ob(),I.Ob()),2&e&&I.Cb("being-dragged",t.isBeingDragged)("item-dragged-onto-from-left",t.draggedOntoFromLeft)("item-dragged-onto-from-right",t.draggedOntoFromRight)},directives:[jt,Rt],styles:["div.spacer[_ngcontent-%COMP%]{height:100%;padding:0 3px;background-color:transparent;transition:padding .3s}.being-dragged[_ngcontent-%COMP%]{opacity:.65;z-index:1000;position:static}.item-dragged-onto[_ngcontent-%COMP%]{z-index:10;opacity:.5}.item-dragged-onto-from-left[_ngcontent-%COMP%]   div.spacer.right-spacer[_ngcontent-%COMP%], .item-dragged-onto-from-right[_ngcontent-%COMP%]   div.spacer.left-spacer[_ngcontent-%COMP%]{padding:0 40px;background-color:rgba(0,255,0,.9)}delete-image-glyphicon[_ngcontent-%COMP%]{cursor:default}"]}),Tt),Mt=a("m1s+"),Kt=function(e,t){return[e,t]};function Ft(e,t){if(1&e&&(I.Pb(0,"re-arrangeable-grid-list-item",1),I.Lb(1,"thumbnail-image-container",2),I.Ob()),2&e){var n=t.$implicit,r=t.index,i=I.Yb();I.bc("index",r),I.Ab(1),I.bc("image",n)("imageRouterLink",I.ec(3,Kt,i.fullSizeImageRoute,n.name))}}var Bt,Gt,Ht,zt,Nt,$t,Wt,qt,Ut,Vt,Zt,Jt,Qt,en,tn,nn,rn=((Bt=function(e){o(n,e);var t=c(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).__listRearranger$=e,i.__processSaveLibraryImagesOrder=r,i.pageImages=A.CurrentPageImagesData,i}return d(n,[{key:"fullSizeImageRoute",get:function(){return"/"+te.a.FullSizeImageViewerModule}},{key:"ngOnInit",value:function(){var e=this;this.__listRearranger$.setList(this.pageImages.data),this._subscriptions=[this.__listRearranger$.subscribe(function(t){return Object(T.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__runTasksAfterGettingRearrangedImages(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))})]}},{key:"__runTasksAfterGettingRearrangedImages",value:function(e){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Object(ne.a)(this.pageImages.data,e),t.next=3,this.__processSaveLibraryImagesOrder.go(e);case 3:case"end":return t.stop()}},t,this)}))}}]),n}(re.a)).\u0275fac=function(e){return new(e||Bt)(I.Kb(le),I.Kb(je))},Bt.\u0275cmp=I.Eb({type:Bt,selectors:[["library-images-list"]],features:[I.xb],decls:2,vars:1,consts:[[3,"index",4,"ngFor","ngForOf"],[3,"index"],[3,"image","imageRouterLink"]],template:function(e,t){1&e&&(I.Pb(0,"ul"),I.oc(1,Ft,2,6,"re-arrangeable-grid-list-item",0),I.Ob()),2&e&&(I.Ab(1),I.bc("ngForOf",t.pageImages.data))},directives:[E.h,At,Mt.a],encapsulation:2}),Bt),on=a("X4VM"),an=((Gt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Gt)},Gt.\u0275mod=I.Ib({type:Gt}),Gt.\u0275inj=I.Hb({}),Gt),cn=a("ERbj"),sn=a("RuhN"),un=a("ezBO"),ln=((Ht=function(){function e(t,n,r){f(this,e),this.__realmFn=t,this.__sessionIDInBrowser=n,this.__loadedLibrary=r}return d(e,[{key:"go",value:function(){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__realmFn.call("pub_deleteLibrary",{name:this.__loadedLibrary.get().name,sessionID:this.__sessionIDInBrowser.get()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||Ht)(I.Tb(sn.a),I.Tb(un.a),I.Tb(z.a))},Ht.\u0275prov=I.Gb({token:Ht,factory:Ht.\u0275fac,providedIn:an}),Ht),dn=a("7mmc"),fn=a("X0HJ"),gn=a("KwsU"),hn=(($t=function(){function e(t,n){f(this,e),this.__redirectToLoggedInHome=t,this.__processGetLibraries=n}return d(e,[{key:"go",value:function(){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__updateLoadedLibraries();case 2:return e.next=4,this.__redirectToLoggedInHome.go();case 4:fn.a.setSuccess("Library deleted");case 5:case"end":return e.stop()}},e,this)}))}},{key:"__updateLoadedLibraries",value:function(){return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__processGetLibraries.go();case 2:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||$t)(I.Tb(H.a),I.Tb(gn.a))},$t.\u0275prov=I.Gb({token:$t,factory:$t.\u0275fac,providedIn:an}),$t),mn=((Nt=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(Oe.a)).\u0275fac=function(e){return new(e||Nt)(I.Tb(dn.a),I.Tb(hn))},Nt.\u0275prov=I.Gb({token:Nt,factory:Nt.\u0275fac,providedIn:an}),Nt),pn=((zt=function(e){o(n,e);var t=c(n);function n(e,r){return f(this,n),t.call(this,e,r)}return n}(cn.a)).\u0275fac=function(e){return new(e||zt)(I.Tb(ln),I.Tb(mn))},zt.\u0275prov=I.Gb({token:zt,factory:zt.\u0275fac,providedIn:an}),zt),vn=a("UFUm"),bn=((Vt=function(t){o(r,t);var n=c(r);function r(e){return f(this,r),n.call(this,e)}return d(r,[{key:"execute",value:function(){var t=this,n=Object.create(null,{execute:{get:function(){return e(u(r.prototype),"execute",t)}}});return Object(T.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=window.confirm("Are you sure you want to delete the library?"),!e.t0){e.next=4;break}return e.next=4,n.execute.call(this);case 4:case"end":return e.stop()}},e,this)}))}}]),r}(on.a)).\u0275fac=function(e){return new(e||Vt)(I.Kb(pn))},Vt.\u0275cmp=I.Eb({type:Vt,selectors:[["delete-library-button"]],features:[I.xb],decls:2,vars:1,consts:[[3,"context"]],template:function(e,t){1&e&&(I.Pb(0,"execute-function-button",0),I.pc(1,"Delete Library"),I.Ob()),2&e&&I.bc("context",t)},directives:[vn.a],encapsulation:2}),Vt),yn=((Ut=function(e){o(n,e);var t=c(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this))._storedImageTotal=e,o.paginator=r,o.jumpToPageInput=i,o.routeBeforePageNumber="/library/".concat(j.a.name,"/page"),o}return n}(U.a)).\u0275fac=function(e){return new(e||Ut)(I.Kb(V.a),I.Kb(F.a),I.Kb(Q))},Ut.\u0275cmp=I.Eb({type:Ut,selectors:[["library-viewer"]],features:[I.xb],decls:3,vars:1,consts:[[3,"context"]],template:function(e,t){1&e&&(I.Pb(0,"images-viewer",0),I.Lb(1,"library-images-list"),I.Ob(),I.Lb(2,"delete-library-button")),2&e&&I.bc("context",t)},directives:[ee.a,rn,bn],encapsulation:2}),Ut),wn=((qt=function(e){o(n,e);var t=c(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).backgroundExecutionStatus=C.a,i}return d(n,[{key:"heading",get:function(){return j.a.name}}]),n}(D.a)).\u0275fac=function(e){return new(e||qt)(I.Kb(P.a),I.Kb(W))},qt.\u0275cmp=I.Eb({type:qt,selectors:[["app-library"]],features:[I.xb],decls:2,vars:2,consts:[[3,"heading","loadingStatus"]],template:function(e,t){1&e&&(I.Pb(0,"loading-content-section",0),I.Lb(1,"library-viewer"),I.Ob()),2&e&&I.bc("heading",t.heading)("loadingStatus",t.backgroundExecutionStatus)},directives:[q.a,yn],encapsulation:2}),qt),_n=((Wt=function e(){f(this,e)}).FullSizeImageViewerModule=":".concat(Y.a.libName,"/image"),Wt.LibraryComponent=":".concat(Y.a.libName,"/page/:").concat(Y.a.pageNumber),Wt),On=a("tyNb"),Ln=[{path:_n.FullSizeImageViewerModule,loadChildren:function(){return a.e(6).then(a.bind(null,"mEd3")).then(function(e){return e.FullSizeImageViewerModule})}},{path:_n.LibraryComponent,component:wn,canActivate:[k.a]},{path:"",pathMatch:"full",redirectTo:"/"},{path:"**",redirectTo:"/"}],xn=((Zt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Zt)},Zt.\u0275mod=I.Ib({type:Zt}),Zt.\u0275inj=I.Hb({imports:[[On.e.forChild(Ln)],On.e]}),Zt),En=a("K9Zg"),Sn=((Jt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Jt)},Jt.\u0275mod=I.Ib({type:Jt}),Jt.\u0275inj=I.Hb({imports:[[E.b,En.a,an]]}),Jt),kn=a("K6N/"),Cn=a("/hAS"),jn=((Qt=function e(){f(this,e)}).\u0275fac=function(e){return new(e||Qt)},Qt.\u0275mod=I.Ib({type:Qt}),Qt.\u0275inj=I.Hb({imports:[[E.b,Xt]]}),Qt),Dn=a("0M2f"),In=((nn=function e(){f(this,e)}).\u0275fac=function(e){return new(e||nn)},nn.\u0275mod=I.Ib({type:nn}),nn.\u0275inj=I.Hb({imports:[[E.b,Dn.a,jn,Cn.a,ie]]}),nn),Pn=((tn=function e(){f(this,e)}).\u0275fac=function(e){return new(e||tn)},tn.\u0275mod=I.Ib({type:tn}),tn.\u0275inj=I.Hb({imports:[[E.b,Sn,In,J,kn.a]]}),tn),Tn=((en=function e(){f(this,e)}).\u0275fac=function(e){return new(e||en)},en.\u0275mod=I.Ib({type:en}),en.\u0275inj=I.Hb({imports:[[E.b,S.a,Pn,X,xn]]}),en)}}])}();