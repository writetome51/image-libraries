(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Keh9:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("ofXK"),s=r("K9Zg"),a=r("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({imports:[[n.b,s.a]]}),e})()},pXNI:function(e,t,r){"use strict";r.r(t),r.d(t,"UpdateUserModule",function(){return at});var n=r("ofXK"),s=r("q6+g"),a=r("1K0o"),o=r("W5s9"),c=r("RNeQ"),i=r("Keh9"),u=r("fXoL");let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[s.a,a.a,o.a,n.b,c.a,i.a]]}),e})();var l=r("3Pt+"),p=r("6rM7");let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[n.b,s.a,i.a,a.a,o.a]]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[n.b,i.a,a.a,o.a,s.a]]}),e})();var v=r("H90k"),h=r("tyNb"),m=r("f894"),_=r("ySWE"),w=r("mrSG"),g=r("X0HJ"),I=r("/1kH"),T=r("nQvA");let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({}),e})();var x=r("0bMq"),k=r("RuhN"),O=r("ezBO");let j=(()=>{class e{constructor(e,t){this.__realmFn=e,this.__sessionIDInBrowser=t}go(e,t){return Object(w.__awaiter)(this,void 0,void 0,function*(){return yield this.__realmFn.call("pub_deleteUser",{email:e,password:t,sessionID:this.__sessionIDInBrowser.get()})})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(k.a),u.Tb(O.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var D=r("bW8z"),A=r("7mmc"),G=r("hAOj");let U=(()=>{class e{constructor(e){this.__removeCachedData=e}go(){return Object(w.__awaiter)(this,void 0,void 0,function*(){this.__removeCachedData.go(),g.a.setSuccess(T.c)})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(G.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),M=(()=>{class e extends D.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(A.a),u.Tb(U))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),F=(()=>{class e extends x.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(j),u.Tb(M))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var P=r("ERbj"),E=r("5Foj");let R=(()=>{class e{constructor(e){this.__userFileStorage=e}go(e){return Object(w.__awaiter)(this,void 0,void 0,function*(){return this.__userFileStorage.deleteAllUserFiles(e)})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(E.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var B=r("o0Rh"),K=r("m5ZA");let L=(()=>{class e{go(){return Object(w.__awaiter)(this,void 0,void 0,function*(){g.a.setSuccess(T.a)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),C=(()=>{class e extends B.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(K.a),u.Tb(L))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),H=(()=>{class e extends P.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(R),u.Tb(C))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),S=(()=>{class e{constructor(e,t,r){this.__processDeleteUserRecord=e,this.__processDeleteAllUserImageFiles=t,this.__router=r}go(e,t){return Object(w.__awaiter)(this,void 0,void 0,function*(){yield this.__processDeleteUserRecord.go(e,t),Object(I.a)(g.a.includesSuccess(T.c))||(yield this.__processDeleteAllUserImageFiles.go(e),yield this.__router.navigate(["/"]),g.a.setSuccess("Account deleted"))})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(F),u.Tb(H),u.Tb(h.b))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var J=r("pqW0"),q=r("igG3"),N=r("LJC9");let X=(()=>{class e extends q.a{constructor(e){super(),this.__emailInBrowser=e,this.data.isValid=()=>this.data.objectToBind[this.data.propertyToBind]===this.__emailInBrowser.get(),this.data.errorMessage="The email entered is not the logged-in user's email."}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(N.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var z=r("9LR1");let Q=(()=>{class e extends J.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(X),u.Tb(z.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var W=r("jhN1"),V=r("AytR"),Z=r("pUhu");let Y=(()=>{class e{constructor(){this.explodingHead={src:V.a.assets+"head-exploding.gif",alt:"Exploding head",width:124}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Eb({type:e,selectors:[["delete-user-form-instructions"]],decls:6,vars:1,consts:[[3,"data"],[1,"warning-text"]],template:function(e,t){1&e&&(u.Pb(0,"div"),u.Lb(1,"html-image",0),u.Pb(2,"p",1),u.pc(3,"You cannot undo this."),u.Ob(),u.Pb(4,"p"),u.pc(5,"If you wish to proceed, enter your info and click Delete"),u.Ob(),u.Ob()),2&e&&(u.Ab(1),u.bc("data",t.explodingHead))},directives:[Z.a],encapsulation:2}),e})();var $=r("TJMr"),ee=r("eV/C");let te=(()=>{class e extends $.c{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(Q))},e.\u0275cmp=u.Eb({type:e,selectors:[["delete-user-form-inputs"]],features:[u.xb],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&u.Lb(0,"app-validating-form-inputs",0),2&e&&u.bc("data",t.inputs)},directives:[ee.a],encapsulation:2}),e})();var re=r("Tx7J"),ne=r("EGrv"),se=r("uQJg");const ae=function(e){return[e]};let oe=(()=>{class e{constructor(e,t,r){this.deleteUser=e,this.inputs=t,this.currentUserFormInputs=m.a,r.setTitle(_.a.go(["Update","Delete Account"]))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(S),u.Kb(Q),u.Kb(W.b))},e.\u0275cmp=u.Eb({type:e,selectors:[["delete-user-form"]],decls:3,vars:6,consts:[["clearAlertsOnDestroy","","resetToDefaultOnInit","",3,"resettables"],[3,"label","validatingInputs","iDoThis"]],template:function(e,t){1&e&&(u.Lb(0,"delete-user-form-instructions"),u.Lb(1,"delete-user-form-inputs",0),u.Lb(2,"submit-form-button",1)),2&e&&(u.Ab(1),u.bc("resettables",u.dc(4,ae,t.currentUserFormInputs)),u.Ab(1),u.bc("label","Delete")("validatingInputs",t.inputs)("iDoThis",t.deleteUser))},directives:[Y,te,re.a,ne.a,se.a],encapsulation:2}),e})(),ce=(()=>{class e{constructor(e,t){this.__realmFn=e,this.__sessionIDInBrowser=t}go(e,t,r){return Object(w.__awaiter)(this,void 0,void 0,function*(){return yield this.__realmFn.call("pub_updateEmailAndReturnUser",{email:e,newEmail:t,password:r,sessionID:this.__sessionIDInBrowser.get()})})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(k.a),u.Tb(O.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var ie=r("CsoN");let ue=(()=>{class e{constructor(e){this.__runTasksAfterGettingUser=e}go(e){if(this.__runTasksAfterGettingUser.go(e),!this.resultMessage)throw new Error('The "resultMessage" property is not set.');g.a.setSuccess(this.resultMessage)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(ie.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var de=r("pQSM");const le=Object(de.a)(function(e,t){e.resultMessage=t[0]});let pe=(()=>{let e=class extends ue{};return e=Object(w.__decorate)([le("Email updated")],e),e})(),be=(()=>{class e extends pe{}return e.\u0275fac=function(t){return fe(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();const fe=u.Rb(be);let ve=(()=>{class e extends D.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(A.a),u.Tb(be))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),he=(()=>{class e extends P.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(ce),u.Tb(ve))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();var me=r("VoJJ");const _e=Object(de.a)(function(e,t){var r=t[0],n=r.prefix,s=r.prefix_propertyToBind;e.data.id=n+"-"+e.data.id,s&&(e.data.propertyToBind=e.data.propertyToBind?n+e.data.propertyToBind[0].toUpperCase()+e.data.propertyToBind.slice(1):n);var a=n[0].toUpperCase()+n.slice(1);if(e.data.label=a+" "+e.data.label,Object(me.a)(e.data.errorMessage))for(var o=0,c=e.data.errorMessage.length;o<c;++o)e.data.errorMessage[o]="The "+n+" "+e.data.errorMessage[o].slice(4);else e.data.errorMessage="The "+n+" "+e.data.errorMessage.slice(4)});let we=(()=>{let e=class extends X{};return e=Object(w.__decorate)([_e({prefix:"current"})],e),e})(),ge=(()=>{class e extends we{}return e.\u0275fac=function(t){return Ie(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();const Ie=u.Rb(ge);let Te=(()=>{let e=class extends q.a{};return e=Object(w.__decorate)([_e({prefix:"new",prefix_propertyToBind:!0})],e),e})(),ye=(()=>{class e extends Te{}return e.\u0275fac=function(t){return xe(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();const xe=u.Rb(ye);let ke=(()=>{class e extends J.a{constructor(e,t,r){super(e,t,r)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(ge),u.Tb(ye),u.Tb(z.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),Oe=(()=>{class e extends $.c{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(ke))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-email-form-inputs"]],features:[u.xb],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&u.Lb(0,"app-validating-form-inputs",0),2&e&&u.bc("data",t.inputs)},directives:[ee.a],encapsulation:2}),e})();const je=function(e){return[e]};let De=(()=>{class e{constructor(e,t,r){this.process=e,this.inputs=t,this.currentUserFormInputs=m.a,r.setTitle(_.a.go(["Update","Email"]))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(he),u.Kb(ke),u.Kb(W.b))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-email-form"]],decls:2,vars:5,consts:[["clearAlertsOnDestroy","","resetToDefaultOnInit","",3,"resettables"],[3,"validatingInputs","iDoThis"]],template:function(e,t){1&e&&(u.Lb(0,"update-email-form-inputs",0),u.Lb(1,"submit-form-button",1)),2&e&&(u.bc("resettables",u.dc(3,je,t.currentUserFormInputs)),u.Ab(1),u.bc("validatingInputs",t.inputs)("iDoThis",t.process))},directives:[Oe,re.a,ne.a,se.a],encapsulation:2}),e})();var Ae=r("k60E");let Ge=(()=>{class e{constructor(e,t,r){this.__realmFn=e,this.__sessionIDInBrowser=t,this.__emailInBrowser=r}go(e,t){return Object(w.__awaiter)(this,void 0,void 0,function*(){return yield this.__realmFn.call("pub_updatePasswordAndReturnUser",{email:this.__emailInBrowser.get(),password:e,newPassword:t,sessionID:this.__sessionIDInBrowser.get()})})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(k.a),u.Tb(O.a),u.Tb(N.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),Ue=(()=>{let e=class extends ue{};return e=Object(w.__decorate)([le("Password updated")],e),e})(),Me=(()=>{class e extends Ue{}return e.\u0275fac=function(t){return Fe(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();const Fe=u.Rb(Me);let Pe=(()=>{class e extends D.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(A.a),u.Tb(Me))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),Ee=(()=>{class e extends P.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(Ge),u.Tb(Pe))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),Re=(()=>{let e=class extends z.a{};return e=Object(w.__decorate)([_e({prefix:"current"})],e),e})(),Be=(()=>{class e extends Re{}return e.\u0275fac=function(t){return Ke(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();const Ke=u.Rb(Be);let Le=(()=>{let e=class extends z.a{};return e=Object(w.__decorate)([_e({prefix:"new",prefix_propertyToBind:!0})],e),e})(),Ce=(()=>{class e extends Le{}return e.\u0275fac=function(t){return He(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})();const He=u.Rb(Ce);var Se=r("FFM0");let Je=(()=>{let e=class extends Se.a{};return e=Object(w.__decorate)([_e({prefix:"new"})],e),e})(),qe=(()=>{class e extends Je{constructor(){super(),this.data.propertyToMatch="newPassword",this.data.errorMessage="The two new password inputs must match"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),Ne=(()=>{class e extends J.a{constructor(e,t,r){super(e,t,r)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(Be),u.Tb(Ce),u.Tb(qe))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:y}),e})(),Xe=(()=>{class e extends $.c{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(Ne))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-password-form-inputs"]],features:[u.xb],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&u.Lb(0,"app-validating-form-inputs",0),2&e&&u.bc("data",t.inputs)},directives:[ee.a],encapsulation:2}),e})();const ze=function(e){return[e]};let Qe=(()=>{class e{constructor(e,t,r){this.process=e,this.inputs=t,this.warning=Ae.a,this.currentUserFormInputs=m.a,r.setTitle(_.a.go(["Update","Password"]))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(Ee),u.Kb(Ne),u.Kb(W.b))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-password-form"]],decls:4,vars:6,consts:[[1,"warning-text"],["clearAlertsOnDestroy","","resetToDefaultOnInit","",3,"resettables"],[3,"validatingInputs","iDoThis"]],template:function(e,t){1&e&&(u.Pb(0,"p",0),u.pc(1),u.Ob(),u.Lb(2,"update-password-form-inputs",1),u.Lb(3,"submit-form-button",2)),2&e&&(u.Ab(1),u.qc(t.warning),u.Ab(1),u.bc("resettables",u.dc(4,ze,t.currentUserFormInputs)),u.Ab(1),u.bc("validatingInputs",t.inputs)("iDoThis",t.process))},directives:[Xe,re.a,ne.a,se.a],encapsulation:2}),e})(),We=(()=>{class e{}return e.UpdateEmailFormModule={link:{label:"Email",path:"email",component:De},heading:"Email"},e.UpdatePasswordFormModule={link:{label:"Password",path:"password",component:Qe},heading:"Password"},e.DeleteUserFormModule={link:{label:"Delete Account",path:"delete-account",component:oe},heading:"Self Destruct?"},e})();var Ve=r("z0RA"),Ze=r("+iAp"),Ye=r("SrzP"),$e=r("g2a5"),et=r("Mnag");let tt=(()=>{class e extends $e.a{ngOnInit(){this.links=this.data.map(e=>e.link)}}return e.\u0275fac=function(t){return rt(t||e)},e.\u0275cmp=u.Eb({type:e,selectors:[["update-user-choices"]],features:[u.xb],decls:2,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&(u.Pb(0,"nav"),u.Lb(1,"navigation-links",0),u.Ob()),2&e&&(u.Ab(1),u.bc("data",t.links))},directives:[et.a],encapsulation:2}),e})();const rt=u.Rb(tt),nt=[{path:"",pathMatch:"full",redirectTo:We.UpdateEmailFormModule.link.path},{path:"",component:(()=>{class e{constructor(e){this.__currentRoute=e,this.heading="Update",this.choices=Object.values(We)}getChoiceHeading(){let e=this.__getCurrentChoicePath(),[t]=Object(Ze.a)(t=>t.link.path===e,this.choices);return t.heading}__getCurrentChoicePath(){let e=this.__currentRoute.get();return Object(Ve.a)(-1,e.split("/"))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(Ye.a))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-user"]],decls:11,vars:3,consts:[[3,"data"],[1,"form-container"]],template:function(e,t){1&e&&(u.Pb(0,"header"),u.Pb(1,"h2"),u.pc(2),u.Ob(),u.Ob(),u.Lb(3,"update-user-choices",0),u.Pb(4,"div",1),u.Pb(5,"div"),u.Pb(6,"header"),u.Pb(7,"h3"),u.pc(8),u.Ob(),u.Ob(),u.Ob(),u.Pb(9,"form"),u.Lb(10,"router-outlet"),u.Ob(),u.Ob()),2&e&&(u.Ab(2),u.qc(t.heading),u.Ab(1),u.bc("data",t.choices),u.Ab(5),u.qc(t.getChoiceHeading()))},directives:[tt,l.j,l.d,l.e,h.f],encapsulation:2}),e})(),canActivate:[v.a],children:Object.values(We).map(e=>({path:e.link.path,component:e.link.component}))}];let st=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[h.e.forChild(nt)],h.e]}),e})(),at=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[n.b,d,l.b,p.a,st,b,f,y]]}),e})()},z0RA:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("IKcc");function s(e,t){const r=t.length;return Object(n.a)(e,r),e<0?t[r+e]:t[e]}}}]);