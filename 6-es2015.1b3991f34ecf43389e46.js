(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Keh9:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("ofXK"),s=i("K9Zg"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({imports:[[n.b,s.a]]}),e})()},QPyj:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("pFFK");let s=(()=>{class e{}return e.AllImagesComponent=`page/:${n.a.pageNumber}`,e.defaultPath="page/1",e})()},mEd3:function(e,t,i){"use strict";i.r(t),i.d(t,"FullSizeImageViewerModule",function(){return G});var n=i("H90k"),s=i("ofXK"),a=i("+iAp"),o=i("pFFK"),r=i("ySWE"),c=i("fXoL"),g=i("SrzP"),h=i("jhN1"),l=i("FPQd"),p=i("g2a5");let d=(()=>{class e extends p.a{}return e.\u0275fac=function(t){return u(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["full-size-image"]],features:[c.xb],decls:1,vars:2,consts:[[3,"src","alt"]],template:function(e,t){1&e&&c.Lb(0,"img",0),2&e&&c.bc("src",t.data.src,c.jc)("alt",t.data.description)},encapsulation:2}),e})();const u=c.Rb(d);let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["image-name"]],decls:3,vars:0,consts:[["for","image-name","hidden",""],["type","text","id","image-name"]],template:function(e,t){1&e&&(c.Pb(0,"label",0),c.pc(1,"Image Name"),c.Ob(),c.Lb(2,"input",1))},encapsulation:2}),e})(),_=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["image-description"]],decls:3,vars:0,consts:[["for","image-description","hidden",""],["type","text","id","image-description"]],template:function(e,t){1&e&&(c.Pb(0,"label",0),c.pc(1,"Image Description"),c.Ob(),c.Lb(2,"input",1))},encapsulation:2}),e})(),b=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["image-tags"]],decls:3,vars:0,consts:[["for","image-tags","hidden",""],["type","text","id","image-tags"]],template:function(e,t){1&e&&(c.Pb(0,"label",0),c.pc(1,"Image Tags"),c.Ob(),c.Lb(2,"input",1))},encapsulation:2}),e})(),f=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["image-date"]],decls:3,vars:0,consts:[["for","image-date","hidden",""],["type","text","id","image-date"]],template:function(e,t){1&e&&(c.Pb(0,"label",0),c.pc(1,"Image Date"),c.Ob(),c.Lb(2,"input",1))},encapsulation:2}),e})(),y=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["image-location"]],decls:3,vars:0,consts:[["for","image-location","hidden",""],["type","text","id","image-location"]],template:function(e,t){1&e&&(c.Pb(0,"label",0),c.pc(1,"Image Location"),c.Ob(),c.Lb(2,"input",1))},encapsulation:2}),e})();var v=i("2Vo4"),I=i("HDdC"),w=i("XNiG"),z=i("itXk"),M=i("eIep"),C=i("lJxs"),O=i("IzEk"),L=i("jtHE"),E=i("1G5W");const j=["*"];class T{constructor(e){this._ngZone=e,this._pending=[],this._listeners=[],this._targetStream=new v.a(void 0)}_clearListeners(){for(const e of this._listeners)e.remove();this._listeners=[]}getLazyEmitter(e){return this._targetStream.pipe(Object(M.a)(t=>{const i=new I.a(n=>{if(!t)return void this._pending.push({observable:i,observer:n});const s=t.addListener(e,e=>{this._ngZone.run(()=>n.next(e))});return this._listeners.push(s),()=>s.remove()});return i}))}setTarget(e){const t=this._targetStream.value;e!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(e),this._pending.forEach(e=>e.observable.subscribe(e.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const x={center:{lat:37.421995,lng:-122.084092},zoom:17};let k=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._ngZone=t,this._eventManager=new T(this._ngZone),this._options=new v.a(x),this._center=new v.a(void 0),this._zoom=new v.a(void 0),this._destroy=new w.a,this.height="500px",this.width="500px",this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=i?Object(s.m)(i):"object"==typeof window&&!!window,this._isBrowser&&window}set center(e){this._center.next(e)}set zoom(e){this._zoom.next(e)}set options(e){this._options.next(e||x)}ngOnChanges(){this._setSize(),this.googleMap&&this.mapTypeId&&this.googleMap.setMapTypeId(this.mapTypeId)}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._googleMapChanges=this._initializeMap(this._combineOptions()),this._googleMapChanges.subscribe(e=>{this.googleMap=e,this._eventManager.setTarget(this.googleMap)}),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForZoomChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete()}fitBounds(e,t){this._assertInitialized(),this.googleMap.fitBounds(e,t)}panBy(e,t){this._assertInitialized(),this.googleMap.panBy(e,t)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,t){this._assertInitialized(),this.googleMap.panToBounds(e,t)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":S(this.height)||"500px",e.width=null===this.width?"":S(this.width)||"500px"}}_combineOptions(){return Object(z.a)([this._options,this._center,this._zoom]).pipe(Object(C.a)(([e,t,i])=>{var n;return Object.assign(Object.assign({},e),{center:t||e.center||x.center,zoom:null!==(n=null!=i?i:e.zoom)&&void 0!==n?n:x.zoom,mapTypeId:this.mapTypeId})}))}_initializeMap(e){return e.pipe(Object(O.a)(1),Object(C.a)(e=>this._ngZone.runOutsideAngular(()=>new google.maps.Map(this._mapEl,e))),function(e,t,i){let n;return n={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:i,scheduler:n}){let s,a,o=0,r=!1,c=!1;return function(g){let h;o++,!s||r?(r=!1,s=new L.a(e,t,n),h=s.subscribe(this),a=g.subscribe({next(e){s.next(e)},error(e){r=!0,s.error(e)},complete(){c=!0,a=void 0,s.complete()}}),c&&(a=void 0)):h=s.subscribe(this),this.add(()=>{o--,h.unsubscribe(),h=void 0,a&&!c&&i&&0===o&&(a.unsubscribe(),a=void 0,s=void 0)})}}(n))}())}_watchForOptionsChanges(){Object(z.a)([this._googleMapChanges,this._options]).pipe(Object(E.a)(this._destroy)).subscribe(([e,t])=>{e.setOptions(t)})}_watchForCenterChanges(){Object(z.a)([this._googleMapChanges,this._center]).pipe(Object(E.a)(this._destroy)).subscribe(([e,t])=>{t&&e.setCenter(t)})}_watchForZoomChanges(){Object(z.a)([this._googleMapChanges,this._zoom]).pipe(Object(E.a)(this._destroy)).subscribe(([e,t])=>{void 0!==t&&e.setZoom(t)})}_assertInitialized(){}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(c.l),c.Kb(c.A),c.Kb(c.C,8))},e.\u0275cmp=c.Eb({type:e,selectors:[["google-map"]],inputs:{height:"height",width:"width",center:"center",zoom:"zoom",options:"options",mapTypeId:"mapTypeId"},outputs:{boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[c.yb],ngContentSelectors:j,decls:2,vars:0,consts:[[1,"map-container"]],template:function(e,t){1&e&&(c.ac(),c.Lb(0,"div",0),c.Zb(1))},encapsulation:2,changeDetection:0}),e})();const P=/([A-Za-z%]+)$/;function S(e){return null==e?"":P.test(e)?e:`${e}px`}let F=(()=>{class e{constructor(e,t,i){this._googleMap=e,this._elementRef=t,this._ngZone=i,this._eventManager=new T(this._ngZone),this._options=new v.a({}),this._position=new v.a(void 0),this._destroy=new w.a,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe(Object(O.a)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(e)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(e){this._assertInitialized();const t=e?e.getAnchor():void 0;this.infoWindow.get("anchor")!==t&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open(this._googleMap.googleMap,t))}_combineOptions(){return Object(z.a)([this._options,this._position]).pipe(Object(C.a)(([e,t])=>Object.assign(Object.assign({},e),{position:t||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(Object(E.a)(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe(Object(E.a)(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(k),c.Kb(c.l),c.Kb(c.A))},e.\u0275dir=c.Fb({type:e,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),e})(),A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({}),e})(),Z=(()=>{class e{constructor(){this.zoom=18,this.options={zoomControl:!0,scrollwheel:!1,disableDoubleClickZoom:!0,mapTypeId:"hybrid"},this.markers=[],this.infoContent=""}ngOnInit(){navigator.geolocation.getCurrentPosition(e=>{this.center={lat:e.coords.latitude,lng:e.coords.longitude},this.markers.push({position:{lat:e.coords.latitude,lng:e.coords.longitude},label:{color:"blue",text:"Marker Label"},title:"Marker Title",info:"Marker info",options:{animation:google.maps.Animation.BOUNCE}})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["location-map"]],viewQuery:function(e,t){if(1&e&&(c.tc(k,1),c.tc(F,1)),2&e){let e;c.fc(e=c.Xb())&&(t.map=e.first),c.fc(e=c.Xb())&&(t.info=e.first)}},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var D=i("IT79"),K=i("tyNb");const B=function(e){return["/library",e,"page",1]};function W(e,t){if(1&e&&(c.Pb(0,"li"),c.Pb(1,"a",1),c.pc(2),c.Ob(),c.Ob()),2&e){const e=t.$implicit;c.Ab(1),c.bc("routerLink",c.dc(2,B,e.name)),c.Ab(1),c.rc(" ",e.name," ")}}let N=(()=>{class e{constructor(e){this.__librariesInBrowser=e,this.libraries=[]}ngOnInit(){let e=this.__librariesInBrowser.get();this.libraries=Object(a.a)(e=>e._image_ids.includes(this.image._id),Object.values(e))}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(D.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["belongs-to-libraries"]],inputs:{image:"image"},decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,t){1&e&&(c.Pb(0,"p"),c.pc(1,"Belongs to Libraries:"),c.Ob(),c.Pb(2,"ul"),c.oc(3,W,3,4,"li",0),c.Ob()),2&e&&(c.Ab(3),c.bc("ngForOf",t.libraries))},directives:[s.h,K.d],encapsulation:2}),e})(),R=(()=>{class e{constructor(e,t,i){this.__currentRoute=e,this.__title=t,this.__loadedImagesState=i,this.__title.setTitle(r.a.go(["Image"]))}getCurrentImage(){return this.__getImage(this.__currentRoute.params[o.a.imageName])}__getImage(e){return Object(a.a)(t=>t.name===e,this.__loadedImagesState.getImages())[0]}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(g.a),c.Kb(h.b),c.Kb(l.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["full-size-image-viewer"]],decls:8,vars:2,consts:[[3,"data"],[3,"image"]],template:function(e,t){1&e&&(c.Lb(0,"full-size-image",0),c.Lb(1,"image-name"),c.Lb(2,"image-description"),c.Lb(3,"image-tags"),c.Lb(4,"image-date"),c.Lb(5,"image-location"),c.Lb(6,"location-map"),c.Lb(7,"belongs-to-libraries",1)),2&e&&(c.bc("data",t.getCurrentImage()),c.Ab(7),c.bc("image",t.getCurrentImage()))},directives:[d,m,_,b,f,y,Z,N],encapsulation:2}),e})();var H=i("qLpH"),X=i("K9Zg"),$=i("Keh9"),V=i("QPyj");let Q=(()=>{class e{constructor(e,t){this.__router=e,this.__loadedImagesState=t}canActivate(){return this.__loadedImagesState.getImages().length>0||(this.__router.navigate(["/"+H.a.AllImagesModule]),!1)}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(K.b),c.Tb(l.a))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[s.b,A,X.a,K.e.forChild([{path:`:${o.a.imageName}`,component:R,canActivate:[n.a,Q]},{path:"",pathMatch:"full",redirectTo:`/${H.a.AllImagesModule}/${V.a.defaultPath}`}]),$.a]]}),e})()}}]);