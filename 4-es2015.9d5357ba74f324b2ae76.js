(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"76kx":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var a=r("AytR"),o=r("fXoL");let s=(()=>{class e{constructor(){this.image={src:a.a.assets+"big-loading-spinner.gif",width:200,height:200}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["big-loading-spinner"]],decls:2,vars:12,consts:[[1,"big-loading-spinner-container"]],template:function(e,t){1&e&&(o.Pb(0,"div"),o.Lb(1,"div",0),o.Ob()),2&e&&(o.Ab(1),o.nc("position","relative")("margin","auto")("width",t.image.width+"px")("height",t.image.height+"px")("background-image","url("+t.image.src+")")("background-repeat","no-repeat"))},styles:[".big-loading-spinner-container[_ngcontent-%COMP%] {margin: auto;}"]}),e})()},IRUQ:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var a=r("ofXK"),o=r("fXoL");let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({imports:[[a.b]]}),e})()},MrnZ:function(e,t,r){"use strict";r.d(t,"a",function(){return h});var a=r("bW8z"),o=r("fXoL"),s=r("mrSG"),n=r("+m4A"),i=r("7mmc"),u=r("FPQd"),c=r("dmLf"),_=r("UD1H");let d=(()=>{class e extends i.a{constructor(e,t,r){super(t,r),this.__loadedImageState=e}go(e){const t=Object.create(null,{go:{get:()=>super.go}});return Object(s.__awaiter)(this,void 0,void 0,function*(){this.__loadedImageState.setDefault(),e.message.includes(n.a)||(yield t.go.call(this,e))})}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(u.a),o.Tb(c.a),o.Tb(_.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),g=(()=>{class e{constructor(e){this.__loadedImagesState=e}go(e){return Object(s.__awaiter)(this,void 0,void 0,function*(){this.__loadedImagesState.set(e)})}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(u.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h=(()=>{class e extends a.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(d),o.Tb(g))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},OgJp:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var a=r("nEhR"),o=r("fXoL");let s=(()=>{class e extends a.a{constructor(){super(localStorage,"page-size")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},OrrL:function(e,t,r){"use strict";r.d(t,"a",function(){return a});class a{constructor(e,t){this.__storeTotal=e,this.__storedTotal=t}set(){this.__storeTotal.go()}get(){return this.__storedTotal.get()}}},WFEW:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var a=r("ERbj");class o extends a.a{constructor(e,t){super(e,t),this.__getImageRecords=e,this.__interpretGetImageRecordsResult=t}}},bj0Z:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var a=r("mrSG"),o=r("eh+W"),s=r("0wL/"),n=r("L8SX"),i=r("fXoL"),u=r("OgJp");let c=(()=>{class e{constructor(e){this.__pageSizeInBrowser=e}go(e,t,r={reload:!1}){return Object(a.__awaiter)(this,void 0,void 0,function*(){(class{static go(e,t=o.a.data){e.setItemsPerLoad(3*o.a.data),e.setItemsPerPage(t),t>o.a.data&&e.setItemsPerLoad(t)}}).go(t,this.__pageSizeInBrowser.get()),yield t.setCurrentPageNumber(e,r),Object(n.a)(s.CurrentPageImagesData.data,t.getCurrentPage())})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(u.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},cc1c:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var a=r("obkU"),o=r("fXoL"),s=r("w2/s"),n=r("OrrL"),i=r("XI5B"),u=r("oyll");let c=(()=>{class e extends n.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(i.a),o.Tb(u.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=r("WFEW"),d=r("mrSG"),g=r("ezBO"),h=r("RuhN");let l=(()=>{class e{constructor(e,t){this.__sessionIDInBrowser=e,this.__realmFn=t}go(e){return Object(d.__awaiter)(this,void 0,void 0,function*(){return yield this.__realmFn.call("pub_getUserImagesBatch",{sessionID:this.__sessionIDInBrowser.get(),batchSize:e.size,batchNumber:e.number})})}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(g.a),o.Tb(h.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=r("MrnZ");let m=(()=>{class e extends _.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(l),o.Tb(f.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=r("FPQd");let P=(()=>{class e extends s.a{constructor(e,t,r){super(e,t,r)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(c),o.Tb(m),o.Tb(b.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p=(()=>{class e extends a.a{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(P))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},obkU:function(e,t,r){"use strict";r.d(t,"a",function(){return I});var a=r("mrSG"),o=r("nYfu"),s=r("fOwj");function n(e,t,r){Object(s.a)(e,t,r);let a=r.length;return Object(o.a)(e,t,a),function(e,t,r){let a=r.length;e=n(a,e),t=n(a,t,a);let o=new Array(t-e),s=-1;for(;e<t;)o[++s]=r[e++];return o;function n(e,t,r){return null==t?r||0:t<0?Math.max(e+t,0):Math.min(t,e)}}(e,e+t===0?a:e+t,r)}var i=r("fQ1K");function u(e,t){if(2!==e.length)throw new Error("The range array must have exactly 2 numbers");let[r,a]=e;if(function(e){for(let t=0,r=e.length;t<r;++t)if("number"!=typeof e[t])throw new Error('Input must be of type "number"')}([r,a,t]),r>a)throw new Error("In the range array, the first number must be less than or equal to the second number");return t>=r&&t<=a}var c=r("/1kH"),_=r("4hzD");class d extends _.a{constructor(e=[],t){if(super(e),this.__pageConfigurator=t,!this.__pageConfigurator.setItemsPerPage||!this.__pageConfigurator.getItemsPerPage)throw new Error("__pageConfigurator must have methods setItemsPerPage() and getItemsPerPage()")}getPage(e){return this.__currentPageNumber=e,function(e,t,r){!function(e){let t=o();if(0===t||Object(c.a)(u([1,t],e)))throw new Error("The requested page does not exist")}(e);const a=t*(e-1);return function(e){return e===o()}(e)?function(e){return function(e,t){return n(-e,e,t)}(r.length-e,r)}(a):n(a,t,r);function o(){return Object(i.b)(r.length/t)}}(e,this.__pageConfigurator.getItemsPerPage(),this.data)}getCurrentPageNumber(){return this.__currentPageNumber}getTotalPages(){return Object(i.b)(this.data.length/this.__pageConfigurator.getItemsPerPage())}}class g{constructor(e,t,r){this.__loadPaginator=e,this.__load2pgTranslator=t,this.__pageLoadAccess=r,this.__data=[]}get(){return this.__data}async set(e){e!==this.__number&&await this.__getLoadAndSetPage("getLoadContainingPage",e)}async reset(e){await this.__getLoadAndSetPage("getRefreshedLoadContainingPage",e)}getNumber(){return this.__number}async __getLoadAndSetPage(e,t){let r=await this.__pageLoadAccess[e](t);this.__setPage_fromLoad(r,t),this.__number=t}__setPage_fromLoad(e,t){this.__loadPaginator.data=e,t=this.__load2pgTranslator.getPageNumberOfLoadFromAbsolutePage(t),this.__data=this.__loadPaginator.getPage(t)}}var h=r("tCSI");class l{constructor(e,t){this.__pageInfo=e,this.__loadInfo=t}getLoadNumberOfPage(e){let t=this.__pageInfo.getTotalPages();if(t<1)throw new Error("There is no load to get because the total number of pages is 0");if(Object(c.a)(u([1,t],e)))throw new Error("The requested page does not exist.");return Object(i.b)(e/this.__loadInfo.getPagesPerLoad())}loadContainsPage(e,t){return!Object(h.b)(e)&&e===this.getLoadNumberOfPage(t)}getPageNumberOfLoadFromAbsolutePage(e){let t=this.__loadInfo.getCurrentLoadNumber();if(Object(c.a)(this.loadContainsPage(t,e)))throw new Error("The current load does not contain the requested page");return e-(t-1)*this.__loadInfo.getPagesPerLoad()}}class f{constructor(e,t,r){this.__dataSource=e,this.__loadInfo=t,this.__load2pgTranslator=r}async getLoadContainingPage(e){return this.__currentLoadContainsPage(e)?this.__currentLoad:await this.getRefreshedLoadContainingPage(e)}async getRefreshedLoadContainingPage(e){return this.__setCurrentLoadNumber(this.__load2pgTranslator.getLoadNumberOfPage(e)),this.__currentLoad=await this.__dataSource.getLoad(...this.__getLoadParams()),this.__currentLoad}__currentLoadContainsPage(e){return this.__load2pgTranslator.loadContainsPage(this.__getCurrentLoadNumber(),e)}__getCurrentLoadNumber(){return this.__loadInfo.getCurrentLoadNumber()}__setCurrentLoadNumber(e){this.__loadInfo.setCurrentLoadNumber(e)}__getLoadParams(){return[this.__loadInfo.getCurrentLoadNumber(),this.__loadInfo.getItemsPerLoad(),this.__loadInfo.currentLoadIsLast()]}}var m=r("0O92");class b{constructor(e){this.__pageInfo=e}setItemsPerLoad(e){this.__errorIfValueIsNotOneOrGreater(e,"items per load"),this.__checkValueOf_itemsPerLoad(e)}getItemsPerLoad(){if(Object(h.b)(this.__itemsPerLoad))throw new Error("The 'itemsPerLoad' has no value");return this.__checkValueOf_itemsPerLoad(),this.__itemsPerLoad}setCurrentLoadNumber(e){if(void 0!==e&&Object(c.a)(u([1,this.getTotalLoads()],e)))throw new Error("You cannot set currentLoadNumber to a value outside the range \n\t\t\t\tof totalLoads");this.__currentLoadNumber=e}getCurrentLoadNumber(){return this.__currentLoadNumber}currentLoadIsLast(){return this.getCurrentLoadNumber()===this.getTotalLoads()}getTotalLoads(){return Object(i.b)(this.__pageInfo.getTotalPages()/this.getPagesPerLoad())}getPagesPerLoad(){return this.getItemsPerLoad()/this.__pageInfo.getItemsPerPage()}__errorIfValueIsNotOneOrGreater(e,t){if(Object(m.a)(e),e<1)throw new Error(`The "${t}" must be at least 1.`)}__checkValueOf_itemsPerLoad(e){let t=this.__itemsPerLoad;Object(h.a)(e)&&(this.__itemsPerLoad=e),this.__ensure_itemsPerLoad_isCompatibleWith_itemsPerPage(),t!==this.__itemsPerLoad&&(this.__currentLoadNumber=void 0)}__ensure_itemsPerLoad_isCompatibleWith_itemsPerPage(){let e=this.__pageInfo.getItemsPerPage();if(Object(h.a)(e)){if(this.__itemsPerLoad<e)throw new Error("The items per load cannot be less than items per page");for(;this.__itemsPerLoad%e!=0;)--this.__itemsPerLoad}}}class P{constructor(e){this.__dataSource=e}setItemsPerPage(e){if(Object(m.a)(e),e<1)throw new Error("The number of items per page must be at least 1");this.__itemsPerPage=e}getItemsPerPage(){return this.__itemsPerPage}getTotalPages(){return Object(i.b)(this.__dataSource.dataTotal/this.getItemsPerPage())}}var p=r("0wL/");class I extends class extends class{constructor(e,t=[]){this.__setup=e,this.__setup(...t)}setItemsPerLoad(e){this.__loadInfo.setItemsPerLoad(e)}getItemsPerLoad(){return this.__loadInfo.getItemsPerLoad()}setItemsPerPage(e){this.__pageInfo.setItemsPerPage(e)}getItemsPerPage(){return this.__pageInfo.getItemsPerPage()}getTotalPages(){return this.__pageInfo.getTotalPages()}async setCurrentPageNumber(e,t={reload:!1}){t.reload?await this.__loadedPage.reset(e):await this.__loadedPage.set(e)}getCurrentPageNumber(){return this.__loadedPage.getNumber()}getCurrentPage(){return this.__loadedPage.get()}}{constructor(e){super(function(e){this.__pageInfo=new P(e),this.__loadInfo=new b(this.__pageInfo),this.__loadedPage=function(e){let t,{dataSource:r,pageInfo:a,loadInfo:o}=e,s=new l(a,o),n=new f(r,o,s);return t=new d([],a),new g(t,s,n)}({dataSource:e,pageInfo:this.__pageInfo,loadInfo:this.__loadInfo})},[e])}}{constructor(e){super(e),this.__dataSource=e}setCurrentPageNumber(e,t={reload:!1}){const r=Object.create(null,{setCurrentPageNumber:{get:()=>super.setCurrentPageNumber}});return Object(a.__awaiter)(this,void 0,void 0,function*(){(Object(h.b)(this.__dataSource.dataTotal)||t.reload)&&(yield this.__dataSource.set_dataTotal()),e=this.__assurePageDoesntExceedLimit(e),yield r.setCurrentPageNumber.call(this,e,t).catch(()=>{})})}setItemsPerPage(e){super.setItemsPerPage(e),p.LoadConfigurationData.size=this.getItemsPerLoad()}setItemsPerLoad(e){super.setItemsPerLoad(e),p.LoadConfigurationData.size=this.getItemsPerLoad()}__assurePageDoesntExceedLimit(e){const t=this.getTotalPages();return e>t?t:e}}},"w2/s":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var a=r("mrSG"),o=r("tHcr"),s=r("WeJg"),n=r("0wL/");class i{constructor(e,t,r){this.__dataTotal=e,this.__setLoadedImages=t,this.__loadedImageState=r}get dataTotal(){return this.__dataTotal.get()}set_dataTotal(){return Object(a.__awaiter)(this,void 0,void 0,function*(){yield this.__dataTotal.set()})}getLoad(e,t,r){return Object(a.__awaiter)(this,void 0,void 0,function*(){return yield s.a.go(()=>Object(a.__awaiter)(this,void 0,void 0,function*(){return n.LoadConfigurationData.number=e,yield this.__setLoadedImages.go(n.LoadConfigurationData),this.__loadedImageState.getImages()}),o.a)})}}}}]);