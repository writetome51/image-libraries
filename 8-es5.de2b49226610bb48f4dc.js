function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"2RiK":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("EeQB"),a=r("Nplx"),o=r("tATp");function i(){var e=a.getDefaultsFor_SeparatorOptions();return e.order=o.__default_hmsOrder,e.includeTimezoneOffset=!0,e}function s(){var e=a.getDefaultsFor_YearSeparatorOptions();return e.order=o.__default_ymdOrder,e}t.getDateID=function(e){void 0===e&&(e=void 0);var t=o.__getMergedOptions(e,s);return o.__getAssembledIDParts(t,(function(){var e=n.getArray_yearMonthDay(t.includeFullYear);return{y:e[0],m:e[1],d:e[2]}}))},t.getTimeID=function(e){void 0===e&&(e=void 0);var t=o.__getMergedOptions(e,i);return o.__getAssembledIDParts(t,(function(){var e=n.getArray_hoursMinutesSeconds();return{h:e[0],m:e[1],s:e[2]}}))+(t.includeTimezoneOffset?o.__getTimezoneOffset():"")},t.getDefaultsFor_getTimeIDOptions=i,t.getDefaultsFor_getDateIDOptions=s},"2eOi":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("y46q"),a=r("1CpO");t.errorIfNotPopulatedArray=function(e){if(n.errorIfNotArray(e),a.isEmpty(e))throw new Error("Input must be an array that is not empty.")}},"4GQ/":function(e,t,r){"use strict";function n(e){return 1===String(e).length&&(e="0"+e),e}Object.defineProperty(t,"__esModule",{value:!0}),t.__ensureMoreThanOneDigitForEach=function(e){for(var t=[],r=-1;++r<e.length;)t.push(n(e[r]));return t},t.__ensureMoreThanOneDigit=n},"8gK0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("2RiK"),a=r("Nplx"),o=r("tCSI"),i=r("+q97");function s(){var e=a.getDefaultsFor_YearSeparatorOptions();e.ymdOrder=n.getDefaultsFor_getDateIDOptions().order;var t=n.getDefaultsFor_getTimeIDOptions();return e.hmsOrder=t.order,e.includeTimezoneOffset=t.includeTimezoneOffset,e}t.getDateTimeID=function(e){void 0===e&&(e=void 0);var t=s();o.hasValue(e)&&i.modifyObject(t,e),t.order=t.ymdOrder;var r=n.getDateID(t);t.order=t.hmsOrder;var a=n.getTimeID(t);return r+t.separator+a},t.getDefaultsFor_getDateTimeIDOptions=s},CT2G:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FileReaderService=function(){function e(t){var r=this;_classCallCheck(this,e),this.__readMethod=t,this.__isReading=!1,this.__data=new FileReader,this.__data.onloadstart=function(){return r.__isReading=!0},this.__data.onloadend=function(){return r.__isReading=!1}}return _createClass(e,[{key:"getContents",value:function(e){return n(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){r.__data.onload=function(){t(r.__data.result)},r.__data[r.__readMethod](e)})));case 1:case"end":return t.stop()}}),t)})))}},{key:"isReading",get:function(){return this.__isReading}}]),e}()},EeQB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("/1kH"),a=r("4GQ/");t.getArray_yearMonthDay=function(e){void 0===e&&(e=!1);var t=new Date,r=[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())];return n.not(e)&&(r[0]=r[0].slice(2)),a.__ensureMoreThanOneDigitForEach(r)},t.getArray_hoursMinutesSeconds=function(){var e=new Date,t=[String(e.getHours()),String(e.getMinutes()),String(e.getSeconds())];return a.__ensureMoreThanOneDigitForEach(t)}},Nplx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("QyqC");function a(){return{separator:n.__default_separator,separateEach:n.__default_separateEach}}t.getDefaultsFor_SeparatorOptions=a,t.getDefaultsFor_YearSeparatorOptions=function(){var e=a();return e.includeFullYear=n.__default_includeFullYear,e}},QyqC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__default_separator="-",t.__default_separateEach=!1,t.__default_includeFullYear=!1},pkJi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("nexU"),a=r("2eOi"),o=r("l+sL"),i=r("+cAX");function s(e){var t=e[0],r=e[1];if(a.errorIfNotPopulatedArray(arguments[0]),i.isInteger(t)&&i.isInteger(r)){if(t>r)throw new Error("In the range array, the first number must be less than or equal to the second number");var n=r-t+1;return o.getRoundedDown(Math.random()*n+t)}throw new Error("Both items in the range array must be integers")}t.getRandomInteger=s,t.getRandomIntegers=function(e,t){var r=t[0],a=t[1],o=[];n.errorIfNotIntegerZeroOrGreater(e);for(var i=0;i<e;++i){var c=s([r,a]);o.push(c)}return o}},tATp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("+q97"),a=r("tCSI");t.__getAssembledIDParts=function(e,t){if(e.order=e.order.toLowerCase(),3!==e.order.length)throw new Error("Input must be string 3 characters long");var r=e.separateEach?e.separator:"",n=t();return n[e.order[0]]+r+n[e.order[1]]+r+n[e.order[2]]},t.__getTimezoneOffset=function(){var e=(new Date).getTimezoneOffset(),t=e<0?"+":"-",r=String(e/60);return 1===r.split(".")[0].length&&(r="0"+r),t+r},t.__getMergedOptions=function(e,t){var r=t();return a.hasValue(e)&&n.modifyObject(r,e),r},t.__default_ymdOrder="ymd",t.__default_hmsOrder="hms"},wuCz:function(e,t,r){"use strict";r.r(t);var n,a,o,i,s=r("mrSG"),c=r("tCSI"),u=r("/1kH"),l=r("fVma"),f=r("hncB"),p=r("3gCK"),d=r("GLLW"),b=r("fXoL"),g=r("rLo9"),_=r("UTvE"),h=r("cbqw"),m=r("1+by"),v=r("6cei"),y=((n=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).__getImages=e,n}return _inherits(t,e),_createClass(t,[{key:"_getResult",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__getImages.all();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}}]),t}(h.a)).\u0275fac=function(e){return new(e||n)(b.Sb(m.a),b.Sb(v.a))},n.\u0275prov=b.Gb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),O=r("U4mD"),k=((i=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(O.a)).\u0275fac=function(e){return new(e||i)(b.Sb(y))},i.\u0275prov=b.Gb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),w=((o=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,r))}return _inherits(t,e),_createClass(t,[{key:"_getSomethingFrom_loadedImages",value:function(){return Object.values(l.a.data)}}]),t}(_.a)).\u0275fac=function(e){return new(e||o)(b.Sb(y),b.Sb(k))},o.\u0275prov=b.Gb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),C=((a=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(g.a)).\u0275fac=function(e){return new(e||a)(b.Sb(w))},a.\u0275prov=b.Gb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),I=r("LAwP"),P=r("ofXK"),R=r("rmti"),x=r("tyNb"),S=r("INGk");function A(e,t){1&e&&b.Lb(0,"big-loading-spinner")}function L(e,t){1&e&&(b.Pb(0,"p"),b.lc(1,"You have no images in your account."),b.Ob())}function D(e,t){if(1&e&&(b.Pb(0,"li",3),b.Pb(1,"div"),b.Lb(2,"thumbnail-image",4),b.Ob(),b.Ob()),2&e){var r=t.$implicit;b.Ab(2),b.bc("data",r)}}function j(e,t){if(1&e&&(b.Pb(0,"ul"),b.kc(1,D,3,1,"li",2),b.Ob()),2&e){var r=b.Yb(2);b.Ab(1),b.bc("ngForOf",r.images)}}var T=function(e){return["/libraries","all-images","page",e]};function M(e,t){if(1&e&&(b.Nb(0),b.kc(1,L,2,0,"p",0),b.kc(2,j,2,1,"ul",0),b.Pb(3,"div"),b.Pb(4,"a",1),b.lc(5,"Next page"),b.Ob(),b.Ob(),b.Mb()),2&e){var r=b.Yb();b.Ab(1),b.bc("ngIf",r.images&&0===r.images.length),b.Ab(1),b.bc("ngIf",r.images&&r.images.length>0),b.Ab(2),b.bc("routerLink",b.ec(3,T,r.nextPage))}}var N,E,F,G,H,Y=((N=function(){function e(t,r){_classCallCheck(this,e),this.__allImagesPaginator=t,this.__currentRoute=r}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Object(c.noValue)(l.a.data)||Object(u.not)(f.a.loaded),!e.t0){e.next=5;break}return e.next=4,this.__allImagesPaginator.reset();case 4:f.a.loaded=!0;case 5:this.__routeParamsSubscription=this.__currentRoute.params$.subscribe((function(e){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.__page=Number(e[p.a.pageNumber]),t.next=3,this.__allImagesPaginator.set_currentPageNumber(this.__page);case 3:this.__images=this.__allImagesPaginator.currentPage;case 4:case"end":return t.stop()}}),t,this)})))}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.__routeParamsSubscription.unsubscribe()}},{key:"gettingBatch",get:function(){return d.a.waiting}},{key:"images",get:function(){return this.__images}},{key:"nextPage",get:function(){return this.__page+1}}]),e}()).\u0275fac=function(e){return new(e||N)(b.Kb(C),b.Kb(I.a))},N.\u0275cmp=b.Eb({type:N,selectors:[["all-images"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"routerLink"],["class","grid-list-item",4,"ngFor","ngForOf"],[1,"grid-list-item"],[3,"data"]],template:function(e,t){1&e&&(b.kc(0,A,1,0,"big-loading-spinner",0),b.kc(1,M,6,5,"ng-container",0)),2&e&&(b.bc("ngIf",t.gettingBatch),b.Ab(1),b.bc("ngIf",!t.gettingBatch))},directives:[P.i,R.a,x.d,P.h,S.a],encapsulation:2}),N),U=r("6AIa"),z=r("3Pt+"),K={status:!1},B=r("S4MD"),q={AllImagesComponent:"all-images/page/:".concat(p.a.pageNumber),AddImagesComponent:"add-images"},Q=((E=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"creatingNewLibrary",get:function(){return K.status},set:function(e){K.status=e}},{key:"buttonText",get:function(){return this.creatingNewLibrary?"Cancel":"New Library"}}]),e}()).\u0275fac=function(e){return new(e||E)},E.\u0275cmp=b.Eb({type:E,selectors:[["new-library-button"]],decls:3,vars:1,consts:[[1,"input-container"],[3,"click"]],template:function(e,t){1&e&&(b.Pb(0,"div",0),b.Pb(1,"button",1),b.Wb("click",(function(e){return t.creatingNewLibrary=!t.creatingNewLibrary})),b.lc(2),b.Ob(),b.Ob()),2&e&&(b.Ab(2),b.mc(t.buttonText))},encapsulation:2}),E),J=r("6M/U"),V=r("/JhE"),W=r("mGzv"),X=r("kA1H"),$=r("lfoF"),Z=((H=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"process",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J.a.data=e.map((function(e){return e.name}));case 1:case"end":return t.stop()}}),t)})))}}]),e}()).\u0275fac=function(e){return new(e||H)},H.\u0275prov=b.Gb({token:H,factory:H.\u0275fac,providedIn:"root"}),H),ee=((G=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,r))}return _inherits(t,e),t}(X.a)).\u0275fac=function(e){return new(e||G)(b.Sb($.a),b.Sb(Z))},G.\u0275prov=b.Gb({token:G,factory:G.\u0275fac,providedIn:"root"}),G),te=((F=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).__libraryStorage=e,n}return _inherits(t,e),_createClass(t,[{key:"_getResult",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__libraryStorage.getLibraries();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}}]),t}(h.a)).\u0275fac=function(e){return new(e||F)(b.Sb(W.a),b.Sb(ee))},F.\u0275prov=b.Gb({token:F,factory:F.\u0275fac,providedIn:"root"}),F);function re(e,t){1&e&&(b.Pb(0,"p"),b.lc(1,"Fetching Libraries..."),b.Ob())}function ne(e,t){if(1&e&&(b.Pb(0,"p"),b.lc(1),b.Ob()),2&e){var r=b.Yb();b.Ab(1),b.mc(r.noLibrariesMessage)}}var ae=function(e){return["/library",e,"page",1]};function oe(e,t){if(1&e&&(b.Pb(0,"li"),b.Pb(1,"a",2),b.lc(2),b.Ob(),b.Ob()),2&e){var r=t.$implicit;b.Ab(1),b.bc("routerLink",b.ec(2,ae,r)),b.Ab(1),b.nc(" ",r," ")}}function ie(e,t){if(1&e&&(b.Pb(0,"ul"),b.kc(1,oe,3,4,"li",1),b.Ob()),2&e){var r=b.Yb();b.Ab(1),b.bc("ngForOf",r.names)}}var se,ce,ue,le,fe,pe,de,be,ge,_e,he=((se=function(){function e(t){_classCallCheck(this,e),this.__getLibraryNamesProcessor=t,this.noLibrariesMessage="You have no libraries right now",Object(c.noValue)(J.a.data)&&V.a.go(this.__getLibraryNamesProcessor,d.a)}return _createClass(e,[{key:"names",get:function(){return J.a.data}}]),e}()).\u0275fac=function(e){return new(e||se)(b.Kb(te))},se.\u0275cmp=b.Eb({type:se,selectors:[["libraries-list"]],decls:4,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,t){1&e&&(b.Pb(0,"div"),b.kc(1,re,2,0,"p",0),b.kc(2,ne,2,1,"p",0),b.kc(3,ie,2,1,"ul",0),b.Ob()),2&e&&(b.Ab(1),b.bc("ngIf",!t.names),b.Ab(1),b.bc("ngIf",t.names&&0===t.names.length),b.Ab(1),b.bc("ngIf",t.names&&t.names.length>0))},directives:[P.i,P.h,x.d],encapsulation:2}),se),me=r("8OoP"),ve=r("TJMr"),ye=r("N32u"),Oe=r("8MCw"),ke=((ue=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).data.id="library-name-input",e.data.propertyToBind="name",e.data.objectToBind=Oe.a,e.data.label="Library Name",e.data.isValid=[function(){return 0!==e.data.objectToBind[e.data.propertyToBind].length},function(){return Object(u.not)(e.data.objectToBind[e.data.propertyToBind].includes(" "))}],e.data.errorMessage=["The library name cannot be empty","The library name cannot include spaces"],e}return _inherits(t,e),t}(ve.ValidatingTextInputService)).\u0275fac=function(e){return new(e||ue)},ue.\u0275prov=b.Gb({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue),we=((ce=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(ye.a)).\u0275fac=function(e){return new(e||ce)(b.Sb(ke))},ce.\u0275prov=b.Gb({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce),Ce=r("lhtc"),Ie=((le=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(ve.ValidatingFormInputsComponent)).\u0275fac=function(e){return new(e||le)(b.Kb(we))},le.\u0275cmp=b.Eb({type:le,selectors:[["new-library-form-inputs"]],features:[b.xb],decls:1,vars:1,consts:[[3,"inputs"]],template:function(e,t){1&e&&b.Lb(0,"validating-inputs",0),2&e&&b.bc("inputs",t.inputs)},directives:[Ce.a],encapsulation:2}),le),Pe=r("L8vR"),Re=r("xYW/"),xe=r("8j7K"),Se=r("+a2g"),Ae=r("570Q"),Le=((fe=function(){function e(t,r){_classCallCheck(this,e),this.__libraryRestApi=t,this.__localSessionID=r}return _createClass(e,[{key:"create",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(xe.getSubscriptionData)(this.__libraryRestApi.create({sessionID:this.__localSessionID.get(),name:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||fe)(b.Sb(Se.a),b.Sb(Ae.a))},fe.\u0275prov=b.Gb({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe),De=r("zHUr"),je=r("3LUQ"),Te=((be=function(){function e(t){_classCallCheck(this,e),this.__getLibraryNamesProcessor=t}return _createClass(e,[{key:"process",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je.a.success="Library created",K.status=!1,e.next=4,this.__getLibraryNamesProcessor.process();case 4:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||be)(b.Sb(te))},be.\u0275prov=b.Gb({token:be,factory:be.\u0275fac,providedIn:"root"}),be),Me=((de=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,r))}return _inherits(t,e),t}(X.a)).\u0275fac=function(e){return new(e||de)(b.Sb(De.a),b.Sb(Te))},de.\u0275prov=b.Gb({token:de,factory:de.\u0275fac,providedIn:"root"}),de),Ne=((pe=function(e){function t(e,r,n){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,n))).__libraryCreator=e,a}return _inherits(t,e),_createClass(t,[{key:"_getResult",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__libraryCreator.create(Oe.a.name);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}}]),t}(Re.a)).\u0275fac=function(e){return new(e||pe)(b.Sb(Le),b.Sb(we),b.Sb(Me))},pe.\u0275prov=b.Gb({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe),Ee=r("oTHP"),Fe=((_e=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Pe.a)).\u0275fac=function(e){return new(e||_e)(b.Kb(Ne))},_e.\u0275cmp=b.Eb({type:_e,selectors:[["create-library-button"]],features:[b.xb],decls:2,vars:3,consts:[[3,"type","context","clickHandler"]],template:function(e,t){1&e&&(b.Pb(0,"processing-button",0),b.lc(1," Create "),b.Ob()),2&e&&b.bc("type","submit")("context",t)("clickHandler",t.process)},directives:[Ee.a],encapsulation:2}),_e),Ge=((ge=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){me.a.go()}}]),e}()).\u0275fac=function(e){return new(e||ge)},ge.\u0275cmp=b.Eb({type:ge,selectors:[["new-library-form"]],decls:4,vars:0,consts:[[1,"form-container"]],template:function(e,t){1&e&&(b.Pb(0,"div",0),b.Pb(1,"form"),b.Lb(2,"new-library-form-inputs"),b.Lb(3,"create-library-button"),b.Ob(),b.Ob())},directives:[z.i,z.d,z.e,Ie,Fe],encapsulation:2}),ge);function He(e,t){1&e&&b.Lb(0,"new-library-form")}var Ye,Ue,ze,Ke,Be,qe,Qe,Je,Ve,We,Xe,$e=function(){return["all-images","page",1]},Ze=((Ye=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).moduleRoute=q,e}return _inherits(t,e),_createClass(t,[{key:"creatingNewLibrary",get:function(){return K.status}}]),t}(B.a)).\u0275fac=function(e){return et(e||Ye)},Ye.\u0275cmp=b.Eb({type:Ye,selectors:[["libraries"]],features:[b.xb],decls:8,vars:4,consts:[[3,"routerLink"],[4,"ngIf"]],template:function(e,t){1&e&&(b.Pb(0,"div"),b.Pb(1,"a",0),b.lc(2,"Add Images"),b.Ob(),b.Pb(3,"a",0),b.lc(4,"All Images"),b.Ob(),b.Lb(5,"new-library-button"),b.kc(6,He,1,0,"new-library-form",1),b.Lb(7,"libraries-list"),b.Ob()),2&e&&(b.Ab(1),b.bc("routerLink",t.moduleRoute.AddImagesComponent),b.Ab(2),b.bc("routerLink",b.dc(3,$e)),b.Ab(3),b.bc("ngIf",t.creatingNewLibrary))},directives:[x.d,Q,P.i,he,Ge],encapsulation:2}),Ye),et=b.Qb(Ze),tt=r("+MHq"),rt=r("Uz0t"),nt=r("rKbi"),at=r("8gK0"),ot=r("pkJi"),it=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"go",value:function(e){return{name:e.name||Object(at.getDateTimeID)()+"-"+Object(ot.getRandomInteger)([1,1e3]),src:e.src,description:e.description||"",tags:e.tags||[],date:e.date||void 0,location:e.location||{latitude:void 0,longitude:void 0},rating:e.rating||void 0}}}]),e}(),st=r("yYzm"),ct=r("0JPW"),ut=r("ITbd"),lt=((Ue=function(){function e(t,r){_classCallCheck(this,e),this.__imagesRestApi=t,this.__localSessionID=r}return _createClass(e,[{key:"save",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.getSubscriptionData)(this.__imagesRestApi.add({sessionID:this.__localSessionID.get(),images:ct.a.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Ue)(b.Sb(ut.a),b.Sb(Ae.a))},Ue.\u0275prov=b.Gb({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue),ft=r("lvtE"),pt=r("zx3p"),dt=((ze=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_errorHandler",value:function(e){var r=this,n=Object.create(null,{_errorHandler:{get:function(){return _get(_getPrototypeOf(t.prototype),"_errorHandler",r)}}});return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.includes(ft.b)){t.next=4;break}je.a.error=pt.c,t.next=10;break;case 4:if(!e.includes(ft.f)){t.next=8;break}je.a.error=pt.b,t.next=10;break;case 8:return t.next=10,n._errorHandler.call(this,e);case 10:case"end":return t.stop()}}),t,this)})))}}]),t}($.a)).\u0275fac=function(e){return bt(e||ze)},ze.\u0275prov=b.Gb({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze),bt=b.Qb(dt),gt=r("1J9k"),_t=((Je=function(){function e(t,r){_classCallCheck(this,e),this.__getAllImagesProcessor=t,this.__router=r}return _createClass(e,[{key:"process",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__getAllImagesProcessor.process();case 2:return ct.a.data=[],e.next=5,this.__router.navigate([this.__getRouteTo_AllImagesComponent()]);case 5:je.a.success="New images saved";case 6:case"end":return e.stop()}}),e,this)})))}},{key:"__getRouteTo_AllImagesComponent",value:function(){return gt.a.LibrariesModule+"/"+q.AllImagesComponent}}]),e}()).\u0275fac=function(e){return new(e||Je)(b.Sb(y),b.Sb(x.b))},Je.\u0275prov=b.Gb({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je),ht=((Qe=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,r))}return _inherits(t,e),t}(X.a)).\u0275fac=function(e){return new(e||Qe)(b.Sb(dt),b.Sb(_t))},Qe.\u0275prov=b.Gb({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe),mt=((qe=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).__newImagesSaver=e,n}return _inherits(t,e),_createClass(t,[{key:"_getResult",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__newImagesSaver.save();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}}]),t}(h.a)).\u0275fac=function(e){return new(e||qe)(b.Sb(lt),b.Sb(ht))},qe.\u0275prov=b.Gb({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe),vt=((Be=function(){function e(t){_classCallCheck(this,e),this.__saveNewImagesProcessor=t}return _createClass(e,[{key:"process",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.length)){t.next=8;break}return t.next=4,this.__getAppImage(e[r]);case 4:ct.a.data[r]=t.sent;case 5:++r,t.next=1;break;case 8:return t.next=10,V.a.go(this.__saveNewImagesProcessor,d.a);case 10:ct.a.data=[];case 11:case"end":return t.stop()}}),t,this)})))}},{key:"__getAppImage",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=it,t.t1=e.name,t.next=4,Object(st.getDataURL)(e);case 4:return t.t2=t.sent,t.t3=new Date(e.lastModified),t.t4=e.location,t.t5={name:t.t1,src:t.t2,date:t.t3,location:t.t4},t.abrupt("return",t.t0.go.call(t.t0,t.t5));case 9:case"end":return t.stop()}}),t)})))}}]),e}()).\u0275fac=function(e){return new(e||Be)(b.Sb(mt))},Be.\u0275prov=b.Gb({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be),yt=((Ke=function(){function e(t){_classCallCheck(this,e),this.__uploadedImagesProcessor=t}return _createClass(e,[{key:"upload",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__uploadedImagesProcessor.process(e);case 2:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Ke)(b.Kb(vt))},Ke.\u0275cmp=b.Eb({type:Ke,selectors:[["choose-images-from-device"]],decls:4,vars:0,consts:[["type","file","multiple","",3,"change"]],template:function(e,t){1&e&&(b.Pb(0,"div"),b.Pb(1,"p"),b.lc(2,"Choose images from your own device:"),b.Ob(),b.Pb(3,"input",0),b.Wb("change",(function(e){return t.upload(e.target.files)})),b.Ob(),b.Ob())},encapsulation:2}),Ke),Ot={data:""},kt=r("0wY/"),wt=((Xe=function(){function e(t){_classCallCheck(this,e),this.__saveNewImagesProcessor=t}return _createClass(e,[{key:"process",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__resourceFound(Ot.data);case 2:if(!e.sent){e.next=8;break}return ct.a.data.push(it.go({name:void 0,src:Ot.data})),e.next=6,V.a.go(this.__saveNewImagesProcessor,d.a);case 6:e.next=9;break;case 8:je.a.error="The URL you entered is either not connected to a resource, or access is denied.";case 9:case"end":return e.stop()}}),e,this)})))}},{key:"__resourceFound",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(e=kt.a.data+e,new Promise((function(t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===this.readyState&&t(200===this.status)},r.open("GET",e,!0),r.send()}))));case 1:case"end":return t.stop()}}),t)})))}}]),e}()).\u0275fac=function(e){return new(e||Xe)(b.Sb(mt))},Xe.\u0275prov=b.Gb({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe),Ct=((We=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Pe.a)).\u0275fac=function(e){return new(e||We)(b.Kb(wt))},We.\u0275cmp=b.Eb({type:We,selectors:[["add-image-url-button"]],features:[b.xb],decls:2,vars:3,consts:[[3,"type","context","clickHandler"]],template:function(e,t){1&e&&(b.Pb(0,"processing-button",0),b.lc(1," Add URL "),b.Ob()),2&e&&b.bc("type","submit")("context",t)("clickHandler",t.process)},directives:[Ee.a],encapsulation:2}),We),It=((Ve=function(){function e(t){_classCallCheck(this,e),this.__imageURLProcessor=t}return _createClass(e,[{key:"imgURL",set:function(e){Ot.data=e.trim()},get:function(){return Ot.data}}]),e}()).\u0275fac=function(e){return new(e||Ve)(b.Kb(wt))},Ve.\u0275cmp=b.Eb({type:Ve,selectors:[["enter-image-url"]],decls:4,vars:1,consts:[[1,"validating-input-container"],["for","image-url-input","hidden","",1,"validating-input-label"],["type","text","id","image-url-input","name","image-url-input","required","true","placeholder","Enter URL",1,"validating-input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(b.Pb(0,"div",0),b.Lb(1,"label",1),b.Pb(2,"input",2),b.Wb("ngModelChange",(function(e){return t.imgURL=e})),b.Ob(),b.Ob(),b.Lb(3,"add-image-url-button")),2&e&&(b.Ab(2),b.bc("ngModel",t.imgURL))},directives:[z.a,z.h,z.c,z.f,Ct],encapsulation:2}),Ve);function Pt(e,t){1&e&&(b.Pb(0,"div"),b.Lb(1,"choose-images-from-device"),b.Lb(2,"enter-image-url"),b.Ob())}function Rt(e,t){1&e&&b.Lb(0,"big-loading-spinner")}var xt,St=((xt=function(){function e(){_classCallCheck(this,e),this.gettingImagesInstructions="The images can come from your own device or from somewhere\n\telse in the web."}return _createClass(e,[{key:"savingNewImages",get:function(){return d.a.waiting}}]),e}()).\u0275fac=function(e){return new(e||xt)},xt.\u0275cmp=b.Eb({type:xt,selectors:[["add-images"]],decls:6,vars:3,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(b.Pb(0,"section"),b.Pb(1,"div"),b.Pb(2,"p"),b.lc(3),b.Ob(),b.Ob(),b.kc(4,Pt,3,0,"div",0),b.kc(5,Rt,1,0,"big-loading-spinner",0),b.Ob()),2&e&&(b.Ab(3),b.mc(t.gettingImagesInstructions),b.Ab(1),b.bc("ngIf",!t.savingNewImages),b.Ab(1),b.bc("ngIf",t.savingNewImages))},directives:[P.i,yt,It,R.a],encapsulation:2}),xt),At=r("ZHg1");r.d(t,"LibrariesModule",(function(){return Dt}));var Lt,Dt=((Lt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ib({type:Lt}),Lt.\u0275inj=b.Hb({factory:function(e){return new(e||Lt)},imports:[[P.b,z.b,At.a,nt.a,rt.a,tt.a,x.e.forChild([{path:"",pathMatch:"full",component:Ze,canActivate:[U.a]},{path:q.AllImagesComponent,component:Y,canActivate:[U.a]},{path:q.AddImagesComponent,component:St,canActivate:[U.a]},{path:"**",redirectTo:""}])]]}),Lt)},yYzm:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=r("CT2G");t.getDataURL=function(e){return n(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"readAsDataURL"))}return _inherits(t,e),t}(a.FileReaderService))).getContents(e));case 1:case"end":return t.stop()}}),t)})))}}}]);