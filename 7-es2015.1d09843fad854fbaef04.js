(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1G5W":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("l7GE"),i=n("ZUHj");function s(e){return t=>t.lift(new o(e))}class o{constructor(e){this.notifier=e}call(e,t){const n=new a(e),r=Object(i.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class a extends r.a{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}},"3N8a":function(e,t,n){"use strict";var r=n("quSY");class i extends r.a{constructor(e,t){super()}schedule(e,t=0){return this}}n.d(t,"a",(function(){return s}));class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},"6yRa":function(e,t,n){"use strict";var r=n("OJSY");e.exports=function(e,t){var n=r.boolean((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var r=t.target&&t.target.ownerDocument||document,i=r.documentElement,s=r.body;e.pageX=t.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}},IjjT:function(e,t,n){"use strict";let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();n.d(t,"a",(function(){return i}));class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},OJSY:function(e,t,n){"use strict";function r(e,t){return void 0===e?void 0===t?e:t:e}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e,t){return"function"==typeof(e=r(e,t))?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return!!e.apply(this,n)}:e?function(){return!0}:function(){return!1}},t.integer=function(e,t){return"function"==typeof(e=r(e,t))?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=parseInt(e.apply(this,n),10);return i!=i?0:i}:(e=parseInt(e,10))!=e?function(){return 0}:function(){return e}},t.string=function(e,t){return"function"==typeof(e=r(e,t))?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return""+e.apply(this,n)}:(e=""+e,function(){return e})}},PTRy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("6yRa"))&&"object"==typeof r&&"default"in r?r.default:r;function s(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}t.createPointCB=i,t.getClientRect=s,t.pointInside=function(e,t){var n=s(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}},RX3l:function(e,t){var n=Object.prototype.toString;e.exports=Array.isArray||function(e){return!!e&&"[object Array]"==n.call(e)}},S6Z8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("IKcc"),i=n("c0IA");t.insertAt=function(e,t,n){if(i.errorIfValuesAreNotArrays([t,n]),r.errorIfIndexNotValid(e,n.length),e<0){if(!(e<-1))return void n.push.apply(n,t);++e}n.splice.apply(n,[e,0].concat(t))}},SI2e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("g76R"),i=n("S6Z8"),s=n("IKcc");t.moveByIndex=function(e,t,n){s.errorIfIndexNotValid(t,n.length),t<0&&(t=n.length+t);var o=r.getAndRemoveByIndex(e,n);t===n.length?n.push(o):i.insertAt(t,[o],n)}},VJNc:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("uMIJ")),s=r(n("RX3l")),o=r(n("xijO")),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=function(e){return null!=e&&"object"===(void 0===e?"undefined":a(e))&&1===e.nodeType&&"object"===a(e.style)&&"object"===a(e.ownerDocument)};function l(e){if("string"==typeof e)try{return document.querySelector(e)}catch(t){throw t}else if(o(e))return e}function u(e,t){if(t=m(t,!0),!c(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function d(e,t){return-1!==u(e,t)}function h(e){if(!e)return[];try{return"string"==typeof e?i(document.querySelectorAll(e)):s(e)?e.map(m):void 0===e.length?[m(e)]:i(e,m)}catch(t){throw new Error(t)}}function g(e,t){for(var n=0;n<t.length;n++)d(e,t[n])||e.push(t[n]);return t}function m(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!c(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}t.indexOfElement=u,t.hasElement=d,t.domListOf=h,t.concatElementLists=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.reduce((function(e,t){return t.length?e:e.concat(h(t))}),[])},t.addElements=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return g(e,t=t.map(m))},t.removeElements=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.map(m).reduce((function(t,n){var r=u(e,n);return-1!==r?t.concat(e.splice(r,1)):t}),[])},t.resolveElement=m,t.select=l,t.selectAll=function(e){return"string"==typeof e?Array.prototype.slice.apply(document.querySelectorAll(e)):s(e)?e.map(l):"length"in e?i(e).map(l):void 0}},"c/fO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["webkit","moz","ms","o"];t.requestAnimationFrame=function(){for(var e=0,t=r.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[r[e]+"RequestAnimationFrame"];var n;return window.requestAnimationFrame||(n=0,window.requestAnimationFrame=function(e){var t=(new Date).getTime(),r=Math.max(0,16-t-n),i=window.setTimeout((function(){return e(t+r)}),r);return n=t+r,i}),window.requestAnimationFrame.bind(window)}(),t.cancelAnimationFrame=function(){for(var e=0,t=r.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[r[e]+"CancelAnimationFrame"]||window[r[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}()},dQU4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("tCSI"),i=n("fXoL");let s=(()=>{class e{constructor(){this.__data={},this.subscriptions=[]}get exist(){return Object.keys(this.__data).length>0}get(e){return this.__data[e]}getAll(){return this.__data}has(e){return Object(r.hasValue)(this.__data[e])}set(e,t){this.__data[e]=t}unset(e){delete this.__data[e]}unsetAll(){this.__data={}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},jtHE:function(e,t,n){"use strict";var r=n("XNiG"),i=n("3N8a");class s extends i.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var o=n("IjjT");class a extends o.a{}const c=new a(s);var l=n("quSY"),u=n("7o/Q"),d=n("EY2u"),h=n("LRne"),g=n("HDdC");let m=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Object(h.a)(this.value);case"E":return e=this.error,new g.a(t=>t.error(e));case"C":return Object(d.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class f extends u.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(f.dispatch,this.delay,new p(e,this.destination)))}_next(e){this.scheduleMessage(m.createNext(e))}_error(e){this.scheduleMessage(m.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(m.createComplete()),this.unsubscribe()}}class p{constructor(e,t){this.notification=e,this.destination=t}}var b=n("9ppp"),v=n("Ylt2");n.d(t,"a",(function(){return y}));class y extends r.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new w(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new b.a;if(this.isStopped||this.hasError?s=l.a.EMPTY:(this.observers.push(e),s=new v.a(this,e)),r&&e.add(e=new f(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class w{constructor(e,t){this.time=e,this.value=t}}},lipz:function(e,t){var n,r,i,s,o,a;e.exports=(n=function(e){return"function"==typeof e},r=Math.pow(2,53)-1,i=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),r)},s=function(e){if(null!=e){if(["string","number","boolean","symbol"].indexOf(typeof e)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in e)return Symbol.iterator;if("@@iterator"in e)return"@@iterator"}},o=function(e,t){if(null!=e&&null!=t){var r=e[t];if(null==r)return;if(!n(r))throw new TypeError(r+" is not a function");return r}},a=function(e){var t=e.next();return!Boolean(t.done)&&t},function(e){"use strict";var t,r,c,l=this,u=arguments.length>1?arguments[1]:void 0;if(void 0!==u){if(!n(u))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(t=arguments[2])}var d=o(e,s(e));if(void 0!==d){r=n(l)?Object(new l):[];var h,g,m=d.call(e);if(null==m)throw new TypeError("Array.from requires an array-like or iterable object");for(c=0;;){if(!(h=a(m)))return r.length=c,r;g=h.value,r[c]=u?u.call(t,g,c):g,c++}}else{var f=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var p,b=i(f.length);for(r=n(l)?Object(new l(b)):new Array(b),c=0;c<b;)p=f[c],r[c]=u?u.call(t,p,c):p,c++;r.length=b}return r})},rJ3z:function(e,t,n){"use strict";var r,i=n("OJSY"),s=n("c/fO"),o=n("VJNc"),a=n("PTRy"),c=(r=n("uzHG"))&&"object"==typeof r&&"default"in r?r.default:r;function l(e,t){void 0===t&&(t={});var n=this,r=4,l=!1;this.margin=t.margin||-1,this.scrollWhenOutside=t.scrollWhenOutside||!1;var d={},h=a.createPointCB(d),g=c(),m=!1;window.addEventListener("mousemove",h,!1),window.addEventListener("touchmove",h,!1),isNaN(t.maxSpeed)||(r=t.maxSpeed),this.autoScroll=i.boolean(t.autoScroll),this.syncMove=i.boolean(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",h,!1),window.removeEventListener("touchmove",h,!1),window.removeEventListener("mousedown",x,!1),window.removeEventListener("touchstart",x,!1),window.removeEventListener("mouseup",_,!1),window.removeEventListener("touchend",_,!1),window.removeEventListener("pointerup",_,!1),window.removeEventListener("mouseleave",O,!1),window.removeEventListener("mousemove",S,!1),window.removeEventListener("touchmove",S,!1),window.removeEventListener("scroll",w,!0),e=[],t&&E()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return o.addElements.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return o.removeElements.apply(void 0,[e].concat(t))};var f,p,b=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),p=e,e=[],p.forEach((function(e){e===window?b=window:n.add(e)})),Object.defineProperties(this,{down:{get:function(){return m}},maxSpeed:{get:function(){return r}},point:{get:function(){return d}},scrolling:{get:function(){return l}}});var v,y=null;function w(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){l=!0;break}l&&s.requestAnimationFrame((function(){return l=!1}))}function x(){m=!0}function _(){m=!1,E()}function E(){s.cancelAnimationFrame(v),s.cancelAnimationFrame(f)}function O(){m=!1}function C(){for(var t=null,n=0;n<e.length;n++)u(d,e[n])&&(t=e[n]);return t}function S(t){if(n.autoScroll()&&!t.dispatched){var r=t.target,i=document.body;y&&!u(d,y)&&(n.scrollWhenOutside||(y=null)),r&&r.parentNode===i?r=C():(r=function(t){if(!t)return null;if(y===t)return t;if(o.hasElement(e,t))return t;for(;t=t.parentNode;)if(o.hasElement(e,t))return t;return null}(r))||(r=C()),r&&r!==y&&(y=r),b&&(s.cancelAnimationFrame(f),f=s.requestAnimationFrame(L)),y&&(s.cancelAnimationFrame(v),v=s.requestAnimationFrame(I))}}function L(){j(b),s.cancelAnimationFrame(f),f=s.requestAnimationFrame(L)}function I(){y&&(j(y),s.cancelAnimationFrame(v),v=s.requestAnimationFrame(I))}function j(e){var t,r,i=a.getClientRect(e);t=d.x<i.left+n.margin?Math.floor(Math.max(-1,(d.x-i.left)/n.margin-1)*n.maxSpeed):d.x>i.right-n.margin?Math.ceil(Math.min(1,(d.x-i.right)/n.margin+1)*n.maxSpeed):0,r=d.y<i.top+n.margin?Math.floor(Math.max(-1,(d.y-i.top)/n.margin-1)*n.maxSpeed):d.y>i.bottom-n.margin?Math.ceil(Math.min(1,(d.y-i.bottom)/n.margin+1)*n.maxSpeed):0,n.syncMove()&&g.dispatch(e,{pageX:d.pageX+t,pageY:d.pageY+r,clientX:d.x+t,clientY:d.y+r}),setTimeout((function(){r&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,r),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)}))}window.addEventListener("mousedown",x,!1),window.addEventListener("touchstart",x,!1),window.addEventListener("mouseup",_,!1),window.addEventListener("touchend",_,!1),window.addEventListener("pointerup",_,!1),window.addEventListener("mousemove",S,!1),window.addEventListener("touchmove",S,!1),window.addEventListener("mouseleave",O,!1),window.addEventListener("scroll",w,!0)}function u(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:a.pointInside(e,t)}e.exports=function(e,t){return new l(e,t)}},uMIJ:function(e,t,n){e.exports="function"==typeof Array.from?Array.from:n("lipz")},ukOb:function(e,t,n){"use strict";n.r(t);var r=n("6AIa"),i=n("v17E"),s=n("ofXK"),o=n("fXoL");let a=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["full-size-image"]],inputs:{image:"image"},decls:1,vars:2,consts:[[3,"src","alt"]],template:function(e,t){1&e&&o.Lb(0,"img",0),2&e&&o.bc("src",t.image.src,o.ic)("alt",t.image.description)},encapsulation:2}),e})(),c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["image-name"]],decls:3,vars:0,consts:[["for","image-name","hidden",""],["type","text","id","image-name"]],template:function(e,t){1&e&&(o.Pb(0,"label",0),o.lc(1,"Image Name"),o.Ob(),o.Lb(2,"input",1))},encapsulation:2}),e})(),l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["image-description"]],decls:3,vars:0,consts:[["for","image-description","hidden",""],["type","text","id","image-description"]],template:function(e,t){1&e&&(o.Pb(0,"label",0),o.lc(1,"Image Description"),o.Ob(),o.Lb(2,"input",1))},encapsulation:2}),e})(),u=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["image-tags"]],decls:3,vars:0,consts:[["for","image-tags","hidden",""],["type","text","id","image-tags"]],template:function(e,t){1&e&&(o.Pb(0,"label",0),o.lc(1,"Image Tags"),o.Ob(),o.Lb(2,"input",1))},encapsulation:2}),e})(),d=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["image-date"]],decls:3,vars:0,consts:[["for","image-date","hidden",""],["type","text","id","image-date"]],template:function(e,t){1&e&&(o.Pb(0,"label",0),o.lc(1,"Image Date"),o.Ob(),o.Lb(2,"input",1))},encapsulation:2}),e})(),h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["image-location"]],decls:3,vars:0,consts:[["for","image-location","hidden",""],["type","text","id","image-location"]],template:function(e,t){1&e&&(o.Pb(0,"label",0),o.lc(1,"Image Location"),o.Ob(),o.Lb(2,"input",1))},encapsulation:2}),e})(),g=(()=>{class e{get currentImage(){return{}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["image-viewer"]],decls:6,vars:1,consts:[[3,"image"]],template:function(e,t){1&e&&(o.Lb(0,"full-size-image",0),o.Lb(1,"image-name"),o.Lb(2,"image-description"),o.Lb(3,"image-tags"),o.Lb(4,"image-date"),o.Lb(5,"image-location")),2&e&&o.bc("image",t.currentImage)},directives:[a,c,l,u,d,h],encapsulation:2}),e})();var m=n("tyNb");n("HDdC"),n("2Vo4"),n("XNiG"),n("itXk"),n("lJxs"),n("IzEk"),n("jtHE"),n("1G5W");let f=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)}}),e})();n.d(t,"ImageViewerModule",(function(){return p}));let p=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[s.b,f,m.e.forChild([{path:":imageIndex",component:g,canActivate:[r.a],canDeactivate:[i.a]},{path:"",pathMatch:"full",redirectTo:"/library/:libraryName"}])]]}),e})()},uzHG:function(e,t,n){"use strict";var r,i=void 0;"function"!=typeof Object.create?(r=function(){},i=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");r.prototype=e||{};var n=new r;return r.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):i=Object.create;var s=i,o=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function a(e,t){t=t||{};for(var n=s(e),r=0;r<o.length;r++)void 0!==t[o[r]]&&(n[o[r]]=t[o[r]]);return n}function c(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}e.exports=function(e){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function n(e){for(var n=0;n<o.length;n++)t[o[n]]=e[o[n]]}return void 0!==e&&e.addEventListener("mousemove",n),{destroy:function(){e&&e.removeEventListener("mousemove",n,!1),t=null},dispatch:MouseEvent?function(e,n,r){var i=new MouseEvent("mousemove",a(t,n));return c(i,r),e.dispatchEvent(i)}:"function"==typeof document.createEvent?function(e,n,r){var i=a(t,n),s=document.createEvent("MouseEvents");return s.initMouseEvent("mousemove",!0,!0,window,0,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),c(s,r),e.dispatchEvent(s)}:"function"==typeof document.createEventObject?function(e,n,r){var i=document.createEventObject(),s=a(t,n);for(var o in s)i[o]=s[o];return c(i,r),e.dispatchEvent(i)}:void 0}}},v17E:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3LUQ"),i=n("fXoL"),s=n("dQU4");let o=(()=>{class e{constructor(e){this.__libraryChanges=e}canDeactivate(){return!this.__libraryChanges.exist||(r.a.error="You have unsaved changes to the library.  Please save or discard them first.",!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(s.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},wiMD:function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),i=n("3Pt+"),s=n("ukOb"),o=n("1J9k"),a=n("6AIa"),c=n("v17E"),l=n("mrSG"),u=n("gZWj"),d=n("S4MD"),h=n("3gCK"),g=n("hncB"),m=n("fXoL"),f=n("tCSI"),p=n("w10M"),b=n("GLLW"),v=n("tg8g"),y=n("TcC5");let w=(()=>{class e{constructor(e,t){this.__libraryPaginator=e,this.__redirectToLoggedInHome=t}verify(e){return Object(l.a)(this,void 0,void 0,(function*(){u.a.name=e,yield this.__loadRequestedLibrary_ifItExists(),this.__isLoaded(u.a.name)?b.a.waiting=!1:yield this.__redirectToLoggedInHome.go()}))}__loadRequestedLibrary_ifItExists(){return Object(l.a)(this,void 0,void 0,(function*(){(Object(f.noValue)(p.a.data)||u.a.name!==p.a.libName)&&(yield this.__libraryPaginator.reset())}))}__isLoaded(e){return Object(f.hasValue)(p.a.data)&&p.a.libName===e}}return e.\u0275fac=function(t){return new(t||e)(m.Sb(v.a),m.Sb(y.a))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=n("LAwP"),_=n("EGj7"),E=n("dQU4"),O=n("L8vR"),C=n("cbqw"),S=n("1CpO"),L=n("/1kH"),I=n("mGzv");let j=(()=>{class e{constructor(e,t){this.__libraryStorage=e,this.__libraryChanges=t}update(){return Object(l.a)(this,void 0,void 0,(function*(){if(!Object(L.not)(this.__libraryChanges.exist)){if(this.__libraryChanges.has("name")){let e=this.__libraryChanges.get("name").trim();Object(S.isEmpty)(e)&&this.__libraryChanges.unset("name")}return yield this.__libraryStorage.update(p.a.data.name,this.__libraryChanges.getAll())}}))}}return e.\u0275fac=function(t){return new(t||e)(m.Sb(I.a),m.Sb(E.a))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=n("kA1H"),P=n("zHUr"),D=n("3LUQ");let M=(()=>{class e{constructor(e){this.__libraryChanges=e}process(e){return Object(l.a)(this,void 0,void 0,(function*(){delete e._id,delete e._user_id,p.a.data=e,this.__libraryChanges.unsetAll(),D.a.success="Library updated"}))}}return e.\u0275fac=function(t){return new(t||e)(m.Sb(E.a))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),T=(()=>{class e extends A.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(m.Sb(P.a),m.Sb(M))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),N=(()=>{class e extends C.a{constructor(e,t){super(t),this.__libraryUpdater=e}_getResult(){return Object(l.a)(this,void 0,void 0,(function*(){return yield this.__libraryUpdater.update()}))}}return e.\u0275fac=function(t){return new(t||e)(m.Sb(j),m.Sb(T))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=n("oTHP");let X=(()=>{class e extends O.a{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(N))},e.\u0275cmp=m.Eb({type:e,selectors:[["save-changes-button"]],features:[m.xb],decls:2,vars:2,consts:[[3,"context","clickHandler"]],template:function(e,t){1&e&&(m.Pb(0,"processing-button",0),m.lc(1," Save Changes "),m.Ob()),2&e&&m.bc("context",t)("clickHandler",t.process)},directives:[k.a],encapsulation:2}),e})(),Y=(()=>{class e{constructor(e){this.__libraryChanges=e}undoChanges(){this.__libraryChanges.unsetAll()}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(E.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["undo-changes-button"]],decls:3,vars:0,consts:[[3,"click"]],template:function(e,t){1&e&&(m.Pb(0,"div"),m.Pb(1,"button",0),m.Wb("click",(function(e){return t.undoChanges()})),m.lc(2,"Undo Changes"),m.Ob(),m.Ob())},encapsulation:2}),e})();var R=n("EhFH");let F=(()=>{class e{}return e.width=100,e})(),K=(()=>{class e{set imageWidth(e){R.a.width=e}get imageWidth(){return R.a.width?R.a.width:F.width}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Eb({type:e,selectors:[["image-size-slider"]],decls:6,vars:2,consts:[["id","input-container"],["for","image-size-control","hidden",""],["type","range","id","image-size-control","min","0","max","400",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(m.Pb(0,"div",0),m.Pb(1,"label",1),m.lc(2,"Image Size Control"),m.Ob(),m.lc(3," Change size: "),m.Pb(4,"input",2),m.Wb("ngModelChange",(function(e){return t.imageWidth=e})),m.Ob(),m.lc(5),m.Ob()),2&e&&(m.Ab(4),m.bc("ngModel",t.imageWidth),m.Ab(1),m.nc(" Current image width: ",t.imageWidth,"px\n"))},directives:[i.g,i.a,i.c,i.f],encapsulation:2}),e})();var B=n("0O92"),z=n("SI2e"),H=n("4hzD"),G=n("XNiG");let W=(()=>{class e extends H.PublicArrayContainer{constructor(){super(),this.__subject=new G.a}get subscribable(){return this.__subject}set indexBeingMoved(e){Object(B.errorIfNotInteger)(e),this.__indexBeingMoved=e}get indexBeingMoved(){return this.__indexBeingMoved}moveItemTo(e){Object(z.moveByIndex)(this.__indexBeingMoved,e,this.data),this.__subject.next({indexBeingMoved:this.__indexBeingMoved,newIndex:e}),this.__indexBeingMoved=-1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const V=["*"];let q=(()=>{class e{constructor(e){this.__listItemMover=e}set data(e){this.__listItemMover.data=e}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(W))},e.\u0275cmp=m.Eb({type:e,selectors:[["re-arrangeable-grid-list"]],inputs:{data:"data"},ngContentSelectors:V,decls:2,vars:0,template:function(e,t){1&e&&(m.ac(),m.Pb(0,"ul"),m.Zb(1),m.Ob())},encapsulation:2}),e})();var $=n("CMad"),U=n("HDdC"),J=n("jtHE"),Z=n("VRyK"),Q=n("itXk"),ee=n("3N8a");class te extends ee.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}var ne=n("IjjT");class re extends ne.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const ie=new re(te);var se=n("rJ3z"),oe=n.n(se),ae=n("pLZG"),ce=n("5+tZ"),le=n("JX91"),ue=n("lJxs"),de=n("w1tV"),he=n("1G5W"),ge=n("IzEk"),me=n("BFxc"),fe=n("7o/Q");class pe{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new be(e,this.predicate,this.source))}}class be extends fe.a{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function ve(){return e=>e.lift(new ye)}class ye{call(e,t){return t.subscribe(new we(e))}}class we extends fe.a{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}const xe=new ne.a(ee.a);var _e=n("l7GE"),Ee=n("ZUHj");class Oe{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Ce(e,this.durationSelector))}}class Ce extends _e.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=Object(Ee.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Se=n("DH7j");function Le(e){return!Object(Se.a)(e)&&e-parseFloat(e)+1>=0}var Ie=n("z+Ro");function je(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}class Ae{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Pe(e,this.compare,this.keySelector))}}class Pe extends fe.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}let De=(()=>{class e{constructor(){this.currentDrag=new G.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(m.R)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Me=(()=>{class e{constructor(e,t,n){this.elementRef=e,this.renderer=t,this.zone=n,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30},this.cancelledScroll=!1}ngOnInit(){this.zone.runOutsideAngular(()=>{this.renderer.listen(this.elementRef.nativeElement,"touchmove",e=>{this.cancelledScroll&&e.cancelable&&e.preventDefault()})})}disableScroll(){this.cancelledScroll=!0,this.renderer.setStyle(this.elementRef.nativeElement,"overflow","hidden")}enableScroll(){this.cancelledScroll=!1,this.renderer.setStyle(this.elementRef.nativeElement,"overflow","auto")}hasScrollbar(){return this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth>0||this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight>0}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(m.l),m.Kb(m.D),m.Kb(m.z))},e.\u0275dir=m.Fb({type:e,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),e})(),Te=(()=>{class e{constructor(e,t,n,r,i,s,o){this.element=e,this.renderer=t,this.draggableHelper=n,this.zone=r,this.vcr=i,this.scrollContainer=s,this.document=o,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.dragPointerDown=new m.n,this.dragStart=new m.n,this.ghostElementCreated=new m.n,this.dragging=new m.n,this.dragEnd=new m.n,this.pointerDown$=new G.a,this.pointerMove$=new G.a,this.pointerUp$=new G.a,this.eventListenerSubscriptions={},this.destroy$=new G.a,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Object(ae.a)(()=>this.canDrag()),Object(ce.a)(e=>{e.event.stopPropagation&&!this.scrollContainer&&e.event.stopPropagation();const t=this.getScrollPosition(),n=new U.a(e=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",t=>e.next(t))).pipe(Object(le.a)(t),Object(ue.a)(()=>this.getScrollPosition())),r=new G.a,i=new J.a;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const s=Object(Z.a)(this.pointerUp$,this.pointerDown$,i,this.destroy$).pipe(Object(de.a)()),o=Object(Q.a)([this.pointerMove$,n]).pipe(Object(ue.a)(([t,n])=>({currentDrag$:r,transformX:t.clientX-e.clientX,transformY:t.clientY-e.clientY,clientX:t.clientX,clientY:t.clientY,scrollLeft:n.left,scrollTop:n.top})),Object(ue.a)(e=>(this.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),e)),Object(ue.a)(e=>(this.dragAxis.x||(e.transformX=0),this.dragAxis.y||(e.transformY=0),e)),Object(ue.a)(e=>Object.assign({},e,{x:e.transformX+(e.scrollLeft-t.left),y:e.transformY+(e.scrollTop-t.top)})),Object(ae.a)(({x:e,y:t,transformX:n,transformY:r})=>!this.validateDrag||this.validateDrag({x:e,y:t,transform:{x:n,y:r}})),Object(he.a)(s),Object(de.a)()),a=o.pipe(Object(ge.a)(1),Object(de.a)()),c=o.pipe(Object(me.a)(1),Object(de.a)());return a.subscribe(({clientX:e,clientY:t,x:n,y:s})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:i})}),this.scroller=oe()([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{margin:20,autoScroll:()=>!0}),this.renderer.addClass(this.element.nativeElement,this.dragActiveClass),this.ghostDragEnabled){const r=this.element.nativeElement.getBoundingClientRect(),i=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(i):this.element.nativeElement.parentNode.insertBefore(i,this.element.nativeElement.nextSibling),this.ghostElement=i,document.body.style.cursor=this.dragCursor,this.setElementStyles(i,{position:"fixed",top:`${r.top}px`,left:`${r.left}px`,width:`${r.width}px`,height:`${r.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const e=this.vcr.createEmbeddedView(this.ghostElementTemplate);i.innerHTML="",e.rootNodes.filter(e=>e instanceof Node).forEach(e=>{i.appendChild(e)}),c.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(e))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:e-n,clientY:t-s,element:i})}),c.subscribe(()=>{i.parentElement.removeChild(i),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(r)}),c.pipe(Object(ce.a)(e=>{const t=i.pipe(e=>e.lift(new pe(void 0,e)),Object(ge.a)(1),Object(ue.a)(t=>Object.assign({},e,{dragCancelled:t>0})));return i.complete(),t})).subscribe(({x:e,y:t,dragCancelled:n})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:e,y:t,dragCancelled:n})}),this.renderer.removeClass(this.element.nativeElement,this.dragActiveClass),r.complete()}),new U.a(e=>this.renderer.listen("document","selectstart",t=>e.next(t))).pipe(Object(he.a)(Object(Z.a)(s,c))).subscribe(e=>{e.preventDefault()}),o}),Object(de.a)());Object(Z.a)(e.pipe(Object(ge.a)(1),Object(ue.a)(e=>[,e])),e.pipe(ve())).pipe(Object(ae.a)(([e,t])=>!e||e.x!==t.x||e.y!==t.y),Object(ue.a)(([e,t])=>t),function(e,t=xe){return n=()=>function(e=0,t,n){let r=-1;return Le(t)?r=Number(t)<1?1:Number(t):Object(Ie.a)(t)&&(n=t),Object(Ie.a)(n)||(n=xe),new U.a(t=>{const i=Le(e)?e:+e-n.now();return n.schedule(je,i,{index:0,period:r,subscriber:t})})}(e,t),function(e){return e.lift(new Oe(n))};var n}(0,ie)).subscribe(({x:e,y:t,currentDrag$:n,clientX:r,clientY:i,transformX:s,transformY:o})=>{if(this.zone.run(()=>{this.dragging.next({x:e,y:t})}),this.ghostElement){const e=`translate3d(${s}px, ${o}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:e,"-webkit-transform":e,"-ms-transform":e,"-moz-transform":e,"-o-transform":e})}n.next({clientX:r,clientY:i,dropData:this.dropData})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),t=Object.keys(this.eventListenerSubscriptions).length>0;e&&!t?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",e=>{this.onMouseDown(e)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",e=>{this.onMouseUp(e)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",e=>{this.onTouchStart(e)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&t&&this.unsubscribeEventListeners()}onMouseDown(e){this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",e=>{this.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY})}onMouseUp(e){this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY})}onTouchStart(e){if(!this.scrollContainer)try{e.preventDefault()}catch(i){}let t,n,r;this.scrollContainer&&this.scrollContainer.activeLongPressDrag&&(this.timeLongPress.timerBegin=Date.now(),r=!1,t=this.scrollContainer.hasScrollbar(),n=this.getScrollPosition()),this.eventListenerSubscriptions.touchmove||(this.eventListenerSubscriptions.touchmove=this.renderer.listen("document","touchmove",i=>{this.scrollContainer&&this.scrollContainer.activeLongPressDrag&&!r&&t&&(r=this.shouldBeginDrag(e,i,n)),this.scrollContainer&&this.scrollContainer.activeLongPressDrag&&t&&!r||this.pointerMove$.next({event:i,clientX:i.targetTouches[0].clientX,clientY:i.targetTouches[0].clientY})})),this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.scrollContainer&&this.scrollContainer.activeLongPressDrag&&this.scrollContainer.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,t){Object.keys(t).forEach(n=>{this.renderer.setStyle(e,n,t[n])})}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}shouldBeginDrag(e,t,n){const r=this.getScrollPosition(),i=Math.abs(r.top-n.top),s=Math.abs(r.left-n.left);return(Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-s+(Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-i)>this.scrollContainer.longPressConfig.delta||i>0||s>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=this.scrollContainer.longPressConfig.duration&&(this.scrollContainer.disableScroll(),!0)}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(m.l),m.Kb(m.D),m.Kb(De),m.Kb(m.z),m.Kb(m.N),m.Kb(Me,8),m.Kb(r.c))},e.\u0275dir=m.Fb({type:e,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[m.yb()]}),e})();function Ne(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}let ke=(()=>{class e{constructor(e,t,n,r,i){this.element=e,this.draggableHelper=t,this.zone=n,this.renderer=r,this.scrollContainer=i,this.dragEnter=new m.n,this.dragLeave=new m.n,this.dragOver=new m.n,this.drop=new m.n}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{this.renderer.addClass(this.element.nativeElement,this.dragActiveClass);const t={updateCache:!0},n=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{t.updateCache=!0});let r;const i=e.pipe(Object(ue.a)(({clientX:e,clientY:n,dropData:i})=>{r=i,t.updateCache&&(t.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(t.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),t.updateCache=!1);const s=Ne(e,n,t.rect);return t.scrollContainerRect?s&&Ne(e,n,t.scrollContainerRect):s})),s=i.pipe(e=>e.lift(new Ae(void 0,void 0)));let o;s.pipe(Object(ae.a)(e=>e)).subscribe(()=>{o=!0,this.renderer.addClass(this.element.nativeElement,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:r})})}),i.pipe(Object(ae.a)(e=>e)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:r})})}),s.pipe(ve(),Object(ae.a)(([e,t])=>e&&!t)).subscribe(()=>{o=!1,this.renderer.removeClass(this.element.nativeElement,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:r})})}),e.subscribe({complete:()=>{n(),this.renderer.removeClass(this.element.nativeElement,this.dragActiveClass),o&&(this.renderer.removeClass(this.element.nativeElement,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:r})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(m.l),m.Kb(De),m.Kb(m.z),m.Kb(m.D),m.Kb(Me,8))},e.\u0275dir=m.Fb({type:e,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),e})(),Xe=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)}}),e})(),Ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Eb({type:e,selectors:[["delete-item-button"]],decls:1,vars:0,consts:[[1,"glyphicon","glyphicon-remove-circle"]],template:function(e,t){1&e&&m.Lb(0,"span",0)},styles:[".glyphicon-remove-circle[_ngcontent-%COMP%]{font-size:22px;display:inline-block;padding:0;position:relative;top:-40%}"]}),e})();const Re=["*"];let Fe=(()=>{class e{constructor(e,t){this.__listItemMover=e,this.__listItemRemover=t,this.isBeingDragged=!1,this.draggedOntoFromRight=!1,this.draggedOntoFromLeft=!1,this.hovered=!1}set_isBeingDragged(){this.isBeingDragged=!0,this.__listItemMover.indexBeingMoved=this.index}unset_isBeingDragged(){this.isBeingDragged=!1}set_isBeingDraggedOnto(){this.index<this.__listItemMover.indexBeingMoved?this.draggedOntoFromRight=!0:this.index>this.__listItemMover.indexBeingMoved&&(this.draggedOntoFromLeft=!0)}unset_isBeingDraggedOnto(){this.draggedOntoFromRight=!1,this.draggedOntoFromLeft=!1}dropDraggedItemHere(){this.__listItemMover.moveItemTo(this.index),this.unset_isBeingDraggedOnto()}deleteItem(){this.__listItemRemover.remove(this.index)}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(W),m.Kb($.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["re-arrangeable-grid-list-item"]],inputs:{index:"index"},ngContentSelectors:Re,decls:6,vars:8,consts:[["mwlDraggable","","mwlDroppable","","dragOverClass","item-dragged-onto",1,"grid-list-item",3,"dragStart","dragEnd","drop","dragOver","dragLeave"],[3,"mouseover","mouseleave"],[1,"spacer","left-spacer"],[3,"click"],[1,"spacer","right-spacer"]],template:function(e,t){1&e&&(m.ac(),m.Pb(0,"li",0),m.Wb("dragStart",(function(e){return t.set_isBeingDragged()}))("dragEnd",(function(e){return t.unset_isBeingDragged()}))("drop",(function(e){return t.dropDraggedItemHere()}))("dragOver",(function(e){return t.set_isBeingDraggedOnto()}))("dragLeave",(function(e){return t.unset_isBeingDraggedOnto()})),m.Pb(1,"div",1),m.Wb("mouseover",(function(e){return t.hovered=!0}))("mouseleave",(function(e){return t.hovered=!1})),m.Lb(2,"div",2),m.Pb(3,"delete-item-button",3),m.Wb("click",(function(e){return t.deleteItem()})),m.Ob(),m.Zb(4),m.Lb(5,"div",4),m.Ob(),m.Ob()),2&e&&(m.Cb("being-dragged",t.isBeingDragged)("item-dragged-onto-from-left",t.draggedOntoFromLeft)("item-dragged-onto-from-right",t.draggedOntoFromRight),m.Ab(3),m.Cb("invisible",!t.hovered))},directives:[Te,ke,Ye],styles:["div.spacer[_ngcontent-%COMP%]{height:100%;padding:0 3px;background-color:transparent;-webkit-transition:padding .3s;transition:padding .3s}.being-dragged[_ngcontent-%COMP%]{opacity:.65;z-index:1000;position:static}.item-dragged-onto[_ngcontent-%COMP%]{z-index:10;opacity:.5}.item-dragged-onto-from-left[_ngcontent-%COMP%]   div.spacer.right-spacer[_ngcontent-%COMP%], .item-dragged-onto-from-right[_ngcontent-%COMP%]   div.spacer.left-spacer[_ngcontent-%COMP%]{padding:0 40px;background-color:rgba(0,255,0,.9)}delete-item-button[_ngcontent-%COMP%]{cursor:default}"]}),e})();var Ke=n("tyNb"),Be=n("INGk");const ze=function(e,t){return["/library",e,"image",t]};function He(e,t){if(1&e&&(m.Pb(0,"re-arrangeable-grid-list-item",2),m.Pb(1,"a",3),m.Lb(2,"thumbnail-image",0),m.Ob(),m.Ob()),2&e){const e=t.$implicit,n=t.index,r=m.Yb();m.bc("index",n),m.Ab(1),m.bc("routerLink",m.fc(3,ze,r.libName,n)),m.Ab(1),m.bc("data",e)}}let Ge=(()=>{class e{constructor(e,t){this.__currentRoute=e,this.__libraryPaginator=t}get images(){return this.__libraryPaginator.currentPage}get libName(){return this.__currentRoute.params[h.a.libName]}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(x.a),m.Kb(v.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["image-list"]],decls:2,vars:2,consts:[[3,"data"],[3,"index",4,"ngFor","ngForOf"],[3,"index"],[3,"routerLink"]],template:function(e,t){1&e&&(m.Pb(0,"re-arrangeable-grid-list",0),m.kc(1,He,3,6,"re-arrangeable-grid-list-item",1),m.Ob()),2&e&&(m.bc("data",t.images),m.Ab(1),m.bc("ngForOf",t.images))},directives:[q,r.h,Fe,Ke.d,Be.a],encapsulation:2}),e})();var We=n("rmti");function Ve(e,t){1&e&&(m.Nb(0),m.Lb(1,"save-changes-button"),m.Lb(2,"undo-changes-button"),m.Mb())}function qe(e,t){1&e&&(m.Pb(0,"p"),m.lc(1,"No images"),m.Ob())}function $e(e,t){if(1&e&&(m.Pb(0,"div"),m.Pb(1,"p"),m.lc(2),m.Ob(),m.Lb(3,"image-size-slider"),m.Lb(4,"image-list"),m.Ob()),2&e){const e=m.Yb(2);m.Ab(2),m.nc("Page ",e.pageNumber,"")}}function Ue(e,t){if(1&e&&(m.Pb(0,"div"),m.kc(1,Ve,3,0,"ng-container",0),m.kc(2,qe,2,0,"p",0),m.kc(3,$e,5,1,"div",0),m.Ob()),2&e){const e=m.Yb();m.Ab(1),m.bc("ngIf",e.changesExist),m.Ab(1),m.bc("ngIf",void 0!==e.imageTotal&&0===e.imageTotal),m.Ab(1),m.bc("ngIf",e.imageTotal>0)}}function Je(e,t){1&e&&m.Lb(0,"big-loading-spinner")}let Ze=(()=>{class e{constructor(e,t){this.__paginator=e,this.__libraryChanges=t,b.a.waiting=!0}get imageTotal(){return _.a.data}get pageNumber(){return this.__paginator.currentPageNumber}get changesExist(){return this.__libraryChanges.exist}get verifyingLibrary(){return b.a.waiting}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(v.a),m.Kb(E.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["library-viewer"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(m.kc(0,Ue,4,3,"div",0),m.kc(1,Je,1,0,"big-loading-spinner",0)),2&e&&(m.bc("ngIf",!t.verifyingLibrary),m.Ab(1),m.bc("ngIf",t.verifyingLibrary))},directives:[r.i,X,Y,K,Ge,We.a],encapsulation:2}),e})();const Qe={ImageViewerModule:`:${h.a.libName}/image`,LibraryComponent:`:${h.a.libName}/page/:${h.a.pageNumber}`},et=[{path:Qe.ImageViewerModule,loadChildren:()=>Promise.resolve().then(n.bind(null,"ukOb")).then(e=>e.ImageViewerModule)},{path:Qe.LibraryComponent,component:(()=>{class e extends d.a{constructor(e,t,n){super(),this.__libraryVerifier=e,this.__paginator=t,this.__currentRoute=n}get name(){return u.a.name}ngOnInit(){return Object(l.a)(this,void 0,void 0,(function*(){g.a.loaded=!1,yield this.__libraryVerifier.verify(this.__currentRoute.params[h.a.libName]);let e=Number(this.__currentRoute.params[h.a.pageNumber]);e>1&&(yield this.__paginator.set_currentPageNumber(e))}))}nextPage(){this.__paginator.set_currentPageNumber(this.__paginator.currentPageNumber+1)}previousPage(){this.__paginator.set_currentPageNumber(this.__paginator.currentPageNumber-1)}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(w),m.Kb(v.a),m.Kb(x.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-library"]],features:[m.xb],decls:8,vars:1,consts:[[3,"click"]],template:function(e,t){1&e&&(m.Pb(0,"header"),m.Pb(1,"h2"),m.lc(2),m.Ob(),m.Ob(),m.Lb(3,"library-viewer"),m.Pb(4,"button",0),m.Wb("click",(function(e){return t.nextPage()})),m.lc(5,"Next Page"),m.Ob(),m.Pb(6,"button",0),m.Wb("click",(function(e){return t.previousPage()})),m.lc(7,"Previous Page"),m.Ob()),2&e&&(m.Ab(2),m.mc(t.name))},directives:[Ze],encapsulation:2}),e})(),canActivate:[a.a],canDeactivate:[c.a]},{path:"",pathMatch:"full",redirectTo:"/"+o.a.LibrariesModule},{path:"**",redirectTo:"/**"}];let tt=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)},imports:[[Ke.e.forChild(et)],Ke.e]}),e})();var nt=n("+MHq");let rt=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)},imports:[[r.b,Xe]]}),e})();var it=n("rKbi"),st=n("ZHg1");n.d(t,"LibraryModule",(function(){return ot}));let ot=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)},imports:[[r.b,i.b,st.a,nt.a,rt,tt,s.ImageViewerModule,it.a]]}),e})()},xijO:function(e,t,n){"use strict";n.r(t);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=function(e){return null!=e&&"object"===(void 0===e?"undefined":r(e))&&1===e.nodeType&&"object"===r(e.style)&&"object"===r(e.ownerDocument)}}}]);