(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Keh9:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("ofXK"),s=r("K9Zg"),a=r("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({imports:[[n.b,s.a]]}),e})()},pXNI:function(e,t,r){"use strict";r.r(t),r.d(t,"UpdateUserModule",function(){return tt});var n=r("ofXK"),s=r("q6+g"),a=r("C1T0"),o=r("W5s9"),c=r("RNeQ"),i=r("Keh9"),u=r("fXoL");let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[s.a,a.a,o.a,n.b,c.a,i.a]]}),e})();var l=r("3Pt+"),p=r("6rM7");let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[n.b,s.a,i.a,a.a,o.a]]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[n.b,i.a,a.a,o.a,s.a]]}),e})();var v=r("H90k"),h=r("tyNb"),m=r("ySWE"),_=r("mrSG"),w=r("X0HJ"),g=r("/1kH"),I=r("nQvA");let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({}),e})();var y=r("0bMq"),x=r("RuhN"),k=r("ezBO");let O=(()=>{class e{constructor(e,t){this.__realmFn=e,this.__sessionIDInBrowser=t}go(e,t){return Object(_.__awaiter)(this,void 0,void 0,function*(){return yield this.__realmFn.call("pub_deleteUser",{email:e,password:t,sessionID:this.__sessionIDInBrowser.get()})})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(x.a),u.Tb(k.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var j=r("bW8z"),D=r("7mmc"),A=r("hAOj");let G=(()=>{class e{constructor(e){this.__removeCachedData=e}go(){return Object(_.__awaiter)(this,void 0,void 0,function*(){this.__removeCachedData.go(),w.a.setSuccess(I.c)})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(A.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),U=(()=>{class e extends j.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(D.a),u.Tb(G))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),M=(()=>{class e extends y.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(O),u.Tb(U))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var P=r("ERbj"),E=r("5Foj");let B=(()=>{class e{constructor(e){this.__userFileStorage=e}go(e){return Object(_.__awaiter)(this,void 0,void 0,function*(){return this.__userFileStorage.deleteAllUserFiles(e)})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(E.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var K=r("o0Rh"),R=r("m5ZA");let F=(()=>{class e{go(){return Object(_.__awaiter)(this,void 0,void 0,function*(){w.a.setSuccess(I.a)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),L=(()=>{class e extends K.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(R.a),u.Tb(F))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),C=(()=>{class e extends P.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(B),u.Tb(L))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),H=(()=>{class e{constructor(e,t,r){this.__processDeleteUserRecord=e,this.__processDeleteAllUserImageFiles=t,this.__router=r}go(e,t){return Object(_.__awaiter)(this,void 0,void 0,function*(){yield this.__processDeleteUserRecord.go(e,t),Object(g.a)(w.a.includesSuccess(I.c))||(yield this.__processDeleteAllUserImageFiles.go(e),yield this.__router.navigate(["/"]),w.a.setSuccess("Account deleted"))})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(M),u.Tb(C),u.Tb(h.b))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var S=r("+nN0"),J=r("gfUY"),N=r("LJC9");let z=(()=>{class e extends J.a{constructor(e){super(),this.__emailInBrowser=e,this.data.isValid=()=>this.data.objectToBind[this.data.propertyToBind]===this.__emailInBrowser.get(),this.data.errorMessage="The email entered is not the logged-in user's email."}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(N.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var X=r("DKVB");let q=(()=>{class e extends S.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(z),u.Tb(X.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var Q=r("jhN1"),V=r("AytR"),W=r("pUhu");let Y=(()=>{class e{constructor(){this.explodingHead={src:V.a.assets+"head-exploding.gif",alt:"Exploding head",width:124}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Eb({type:e,selectors:[["delete-user-form-instructions"]],decls:6,vars:1,consts:[[3,"data"],[1,"warning-text"]],template:function(e,t){1&e&&(u.Pb(0,"div"),u.Lb(1,"html-image",0),u.Pb(2,"p",1),u.pc(3,"You cannot undo this."),u.Ob(),u.Pb(4,"p"),u.pc(5,"If you wish to proceed, enter your info and click Delete"),u.Ob(),u.Ob()),2&e&&(u.Ab(1),u.bc("data",t.explodingHead))},directives:[W.a],encapsulation:2}),e})();var Z=r("TJMr"),$=r("eV/C");let ee=(()=>{class e extends Z.c{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(q))},e.\u0275cmp=u.Eb({type:e,selectors:[["delete-user-form-inputs"]],features:[u.xb],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&u.Lb(0,"app-validating-form-inputs",0),2&e&&u.bc("data",t.inputs)},directives:[$.a],encapsulation:2}),e})();var te=r("zTi3"),re=r("Tx7J"),ne=r("uQJg");let se=(()=>{class e{constructor(e,t,r){this.deleteUser=e,this.inputs=t,r.setTitle(m.a.go(["Update","Delete Account"]))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(H),u.Kb(q),u.Kb(Q.b))},e.\u0275cmp=u.Eb({type:e,selectors:[["delete-user-form"]],decls:3,vars:3,consts:[["clearFormOnInit","","clearAlertsOnDestroy",""],[3,"label","validatingInputs","iDoThis"]],template:function(e,t){1&e&&(u.Lb(0,"delete-user-form-instructions"),u.Lb(1,"delete-user-form-inputs",0),u.Lb(2,"submit-form-button",1)),2&e&&(u.Ab(2),u.bc("label","Delete")("validatingInputs",t.inputs)("iDoThis",t.deleteUser))},directives:[Y,ee,te.a,re.a,ne.a],encapsulation:2}),e})(),ae=(()=>{class e{constructor(e,t){this.__realmFn=e,this.__sessionIDInBrowser=t}go(e,t,r){return Object(_.__awaiter)(this,void 0,void 0,function*(){return yield this.__realmFn.call("pub_updateEmailAndReturnUser",{email:e,newEmail:t,password:r,sessionID:this.__sessionIDInBrowser.get()})})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(x.a),u.Tb(k.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var oe=r("CsoN");let ce=(()=>{class e{constructor(e){this.__runTasksAfterGettingUser=e}go(e){if(this.__runTasksAfterGettingUser.go(e),!this.resultMessage)throw new Error('The "resultMessage" property is not set.');w.a.setSuccess(this.resultMessage)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(oe.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var ie=r("pQSM");const ue=Object(ie.a)(function(e,t){e.resultMessage=t[0]});let de=(()=>{let e=class extends ce{};return e=Object(_.__decorate)([ue("Email updated")],e),e})(),le=(()=>{class e extends de{}return e.\u0275fac=function(t){return pe(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();const pe=u.Rb(le);let be=(()=>{class e extends j.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(D.a),u.Tb(le))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),fe=(()=>{class e extends P.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(ae),u.Tb(be))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();var ve=r("VoJJ");const he=Object(ie.a)(function(e,t){var r=t[0],n=r.prefix,s=r.prefix_propertyToBind;e.data.id=n+"-"+e.data.id,s&&(e.data.propertyToBind=e.data.propertyToBind?n+e.data.propertyToBind[0].toUpperCase()+e.data.propertyToBind.slice(1):n);var a=n[0].toUpperCase()+n.slice(1);if(e.data.label=a+" "+e.data.label,Object(ve.a)(e.data.errorMessage))for(var o=0,c=e.data.errorMessage.length;o<c;++o)e.data.errorMessage[o]="The "+n+" "+e.data.errorMessage[o].slice(4);else e.data.errorMessage="The "+n+" "+e.data.errorMessage.slice(4)});let me=(()=>{let e=class extends z{};return e=Object(_.__decorate)([he({prefix:"current"})],e),e})(),_e=(()=>{class e extends me{}return e.\u0275fac=function(t){return we(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();const we=u.Rb(_e);let ge=(()=>{let e=class extends J.a{};return e=Object(_.__decorate)([he({prefix:"new",prefix_propertyToBind:!0})],e),e})(),Ie=(()=>{class e extends ge{}return e.\u0275fac=function(t){return Te(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();const Te=u.Rb(Ie);let ye=(()=>{class e extends S.a{constructor(e,t,r){super(e,t,r)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(_e),u.Tb(Ie),u.Tb(X.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),xe=(()=>{class e extends Z.c{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(ye))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-email-form-inputs"]],features:[u.xb],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&u.Lb(0,"app-validating-form-inputs",0),2&e&&u.bc("data",t.inputs)},directives:[$.a],encapsulation:2}),e})(),ke=(()=>{class e{constructor(e,t,r){this.process=e,this.inputs=t,r.setTitle(m.a.go(["Update","Email"]))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(fe),u.Kb(ye),u.Kb(Q.b))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-email-form"]],decls:2,vars:2,consts:[["clearFormOnInit","","clearAlertsOnDestroy",""],[3,"validatingInputs","iDoThis"]],template:function(e,t){1&e&&(u.Lb(0,"update-email-form-inputs",0),u.Lb(1,"submit-form-button",1)),2&e&&(u.Ab(1),u.bc("validatingInputs",t.inputs)("iDoThis",t.process))},directives:[xe,te.a,re.a,ne.a],encapsulation:2}),e})();var Oe=r("k60E");let je=(()=>{class e{constructor(e,t,r){this.__realmFn=e,this.__sessionIDInBrowser=t,this.__emailInBrowser=r}go(e,t){return Object(_.__awaiter)(this,void 0,void 0,function*(){return yield this.__realmFn.call("pub_updatePasswordAndReturnUser",{email:this.__emailInBrowser.get(),password:e,newPassword:t,sessionID:this.__sessionIDInBrowser.get()})})}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(x.a),u.Tb(k.a),u.Tb(N.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),De=(()=>{let e=class extends ce{};return e=Object(_.__decorate)([ue("Password updated")],e),e})(),Ae=(()=>{class e extends De{}return e.\u0275fac=function(t){return Ge(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();const Ge=u.Rb(Ae);let Ue=(()=>{class e extends j.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(D.a),u.Tb(Ae))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),Me=(()=>{class e extends P.a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(je),u.Tb(Ue))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),Pe=(()=>{let e=class extends X.a{};return e=Object(_.__decorate)([he({prefix:"current"})],e),e})(),Ee=(()=>{class e extends Pe{}return e.\u0275fac=function(t){return Be(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();const Be=u.Rb(Ee);let Ke=(()=>{let e=class extends X.a{};return e=Object(_.__decorate)([he({prefix:"new",prefix_propertyToBind:!0})],e),e})(),Re=(()=>{class e extends Ke{}return e.\u0275fac=function(t){return Fe(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})();const Fe=u.Rb(Re);var Le=r("xyI9");let Ce=(()=>{let e=class extends Le.a{};return e=Object(_.__decorate)([he({prefix:"new"})],e),e})(),He=(()=>{class e extends Ce{constructor(){super(),this.data.propertyToMatch="newPassword",this.data.errorMessage="The two new password inputs must match"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),Se=(()=>{class e extends S.a{constructor(e,t,r){super(e,t,r)}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(Ee),u.Tb(Re),u.Tb(He))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:T}),e})(),Je=(()=>{class e extends Z.c{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(Se))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-password-form-inputs"]],features:[u.xb],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&u.Lb(0,"app-validating-form-inputs",0),2&e&&u.bc("data",t.inputs)},directives:[$.a],encapsulation:2}),e})(),Ne=(()=>{class e{constructor(e,t,r){this.process=e,this.inputs=t,this.warning=Oe.a,r.setTitle(m.a.go(["Update","Password"]))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(Me),u.Kb(Se),u.Kb(Q.b))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-password-form"]],decls:4,vars:3,consts:[[1,"warning-text"],["clearFormOnInit","","clearAlertsOnDestroy",""],[3,"validatingInputs","iDoThis"]],template:function(e,t){1&e&&(u.Pb(0,"p",0),u.pc(1),u.Ob(),u.Lb(2,"update-password-form-inputs",1),u.Lb(3,"submit-form-button",2)),2&e&&(u.Ab(1),u.qc(t.warning),u.Ab(2),u.bc("validatingInputs",t.inputs)("iDoThis",t.process))},directives:[Je,te.a,re.a,ne.a],encapsulation:2}),e})(),ze=(()=>{class e{}return e.UpdateEmailFormModule={link:{label:"Email",path:"email",component:ke},heading:"Email"},e.UpdatePasswordFormModule={link:{label:"Password",path:"password",component:Ne},heading:"Password"},e.DeleteUserFormModule={link:{label:"Delete Account",path:"delete-account",component:se},heading:"Self Destruct?"},e})();var Xe=r("z0RA"),qe=r("+iAp"),Qe=r("SrzP"),Ve=r("g2a5"),We=r("Mnag");let Ye=(()=>{class e extends Ve.a{ngOnInit(){this.links=this.data.map(e=>e.link)}}return e.\u0275fac=function(t){return Ze(t||e)},e.\u0275cmp=u.Eb({type:e,selectors:[["update-user-choices"]],features:[u.xb],decls:2,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&(u.Pb(0,"nav"),u.Lb(1,"navigation-links",0),u.Ob()),2&e&&(u.Ab(1),u.bc("data",t.links))},directives:[We.a],encapsulation:2}),e})();const Ze=u.Rb(Ye),$e=[{path:"",pathMatch:"full",redirectTo:ze.UpdateEmailFormModule.link.path},{path:"",component:(()=>{class e{constructor(e){this.__currentRoute=e,this.heading="Update",this.choices=Object.values(ze)}getChoiceHeading(){let e=this.__getCurrentChoicePath(),[t]=Object(qe.a)(t=>t.link.path===e,this.choices);return t.heading}__getCurrentChoicePath(){let e=this.__currentRoute.get();return Object(Xe.a)(-1,e.split("/"))}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(Qe.a))},e.\u0275cmp=u.Eb({type:e,selectors:[["update-user"]],decls:11,vars:3,consts:[[3,"data"],[1,"form-container"]],template:function(e,t){1&e&&(u.Pb(0,"header"),u.Pb(1,"h2"),u.pc(2),u.Ob(),u.Ob(),u.Lb(3,"update-user-choices",0),u.Pb(4,"div",1),u.Pb(5,"div"),u.Pb(6,"header"),u.Pb(7,"h3"),u.pc(8),u.Ob(),u.Ob(),u.Ob(),u.Pb(9,"form"),u.Lb(10,"router-outlet"),u.Ob(),u.Ob()),2&e&&(u.Ab(2),u.qc(t.heading),u.Ab(1),u.bc("data",t.choices),u.Ab(5),u.qc(t.getChoiceHeading()))},directives:[Ye,l.j,l.d,l.e,h.f],encapsulation:2}),e})(),canActivate:[v.a],children:Object.values(ze).map(e=>({path:e.link.path,component:e.link.component}))}];let et=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[h.e.forChild($e)],h.e]}),e})(),tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[n.b,d,l.b,p.a,et,b,f,T]]}),e})()},z0RA:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("IKcc");function s(e,t){const r=t.length;return Object(n.a)(e,r),e<0?t[r+e]:t[e]}}}]);